import{_ as e,o as a,c as t,Q as r}from"./chunks/framework.5916b37e.js";const f=JSON.parse('{"title":"Class: NrrdTools","description":"","frontmatter":{},"headers":[],"relativePath":"apidist/classes/Utils_segmentation_NrrdTools.NrrdTools.md","filePath":"apidist/classes/Utils_segmentation_NrrdTools.NrrdTools.md"}'),o={name:"apidist/classes/Utils_segmentation_NrrdTools.NrrdTools.md"},s=r(`<p><a href="./../README.html">copper3d</a> / <a href="./../modules.html">Modules</a> / <a href="./../modules/Utils_segmentation_NrrdTools.html">Utils/segmentation/NrrdTools</a> / NrrdTools</p><h1 id="class-nrrdtools" tabindex="-1">Class: NrrdTools <a class="header-anchor" href="#class-nrrdtools" aria-label="Permalink to &quot;Class: NrrdTools&quot;">​</a></h1><p><a href="./../modules/Utils_segmentation_NrrdTools.html">Utils/segmentation/NrrdTools</a>.NrrdTools</p><p>Core NRRD annotation tool for medical image segmentation.</p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// Default 3 layers: layer1, layer2, layer3</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">tools</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NrrdTools</span><span style="color:#E1E4E8;">(container);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Custom layers</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">tools</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NrrdTools</span><span style="color:#E1E4E8;">(container, { layers: [</span><span style="color:#9ECBFF;">&quot;layer1&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;layer2&quot;</span><span style="color:#E1E4E8;">] });</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// Default 3 layers: layer1, layer2, layer3</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">tools</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NrrdTools</span><span style="color:#24292E;">(container);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Custom layers</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">tools</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NrrdTools</span><span style="color:#24292E;">(container, { layers: [</span><span style="color:#032F62;">&quot;layer1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;layer2&quot;</span><span style="color:#24292E;">] });</span></span></code></pre></div><h2 id="hierarchy" tabindex="-1">Hierarchy <a class="header-anchor" href="#hierarchy" aria-label="Permalink to &quot;Hierarchy&quot;">​</a></h2><ul><li><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html"><code>DrawToolCore</code></a></p><p>↳ <strong><code>NrrdTools</code></strong></p></li></ul><h2 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of contents&quot;">​</a></h2><h3 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to &quot;Constructors&quot;">​</a></h3><ul><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#constructor">constructor</a></li></ul><h3 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h3><ul><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#_calculatoractive">_calculatorActive</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#_configkeyboard">_configKeyBoard</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#_keyboardsettings">_keyboardSettings</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#_pendingslicestep">_pendingSliceStep</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#_slicerafid">_sliceRAFId</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#annotationcallbacks">annotationCallbacks</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#basecanvasessize">baseCanvasesSize</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#container">container</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#contrasteventprameters">contrastEventPrameters</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#contrasttool">contrastTool</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#crosshairtool">crosshairTool</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#cursorpage">cursorPage</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#dragoperator">dragOperator</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#drawingprameters">drawingPrameters</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#drawingtool">drawingTool</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#erasertool">eraserTool</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#eraserurls">eraserUrls</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#eventrouter">eventRouter</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#guicallbacks">guiCallbacks</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#guiparametersettings">guiParameterSettings</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#gui_states">gui_states</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#imagestorehelper">imageStoreHelper</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#initstate">initState</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#mainareacontainer">mainAreaContainer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#nrrd_states">nrrd_states</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#paintedimage">paintedImage</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#pantool">panTool</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#pencilurls">pencilUrls</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#pretimer">preTimer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#protecteddata">protectedData</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#spheretool">sphereTool</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#start">start</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#undomanager">undoManager</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#zoomtool">zoomTool</a></li></ul><h3 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h3><ul><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#addskip">addSkip</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#adjustcontrast">adjustContrast</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#afterloadslice">afterLoadSlice</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#appendloadingbar">appendLoadingbar</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#applymaskflipforaxis">applyMaskFlipForAxis</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#clearactivelayer">clearActiveLayer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#clearactiveslice">clearActiveSlice</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#cleardictionary">clearDictionary</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#compositealllayers">compositeAllLayers</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#configcontrastdragmode">configContrastDragMode</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#configmouseslicewheel">configMouseSliceWheel</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#configmousezoomwheel">configMouseZoomWheel</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#convertcursorpoint">convertCursorPoint</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#drag">drag</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#draw">draw</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#drawcalculatorsphere">drawCalculatorSphere</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#drawcalculatorsphereoneachviews">drawCalculatorSphereOnEachViews</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#drawimageonemptyimage">drawImageOnEmptyImage</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#drawsphere">drawSphere</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#enablecontrastdragevents">enableContrastDragEvents</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#enterkeyboardconfig">enterKeyboardConfig</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#enterspheremode">enterSphereMode</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#executeaction">executeAction</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#exitkeyboardconfig">exitKeyboardConfig</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#exitspheremode">exitSphereMode</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#filterdrawedimage">filterDrawedImage</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#finishwindowadjustment">finishWindowAdjustment</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#flipdisplayimagebyaxis">flipDisplayImageByAxis</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getactivechannel">getActiveChannel</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getactivelayer">getActiveLayer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getactivespheretype">getActiveSphereType</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getallvolumes">getAllVolumes</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getbrushsize">getBrushSize</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getchannelcolor">getChannelColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getchannelcsscolor">getChannelCssColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getchannelhexcolor">getChannelHexColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getchannelvisibility">getChannelVisibility</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getcontainer">getContainer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getcurrentimagedimension">getCurrentImageDimension</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getcurrentsliceindex">getCurrentSliceIndex</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getcurrentslicesnumandcontrastnum">getCurrentSlicesNumAndContrastNum</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getcurrentvolume">getCurrentVolume</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getdrawingcanvas">getDrawingCanvas</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getisshowcontraststate">getIsShowContrastState</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getkeyboardsettings">getKeyboardSettings</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getlayervisibility">getLayerVisibility</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getmaskdata">getMaskData</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getmaxslicenum">getMaxSliceNum</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getmode">getMode</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getnrrdtoolssettings">getNrrdToolsSettings</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getopacity">getOpacity</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getorcreateslicebuffer">getOrCreateSliceBuffer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getpencilcolor">getPencilColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getrestlayer">getRestLayer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getslidermeta">getSliderMeta</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getspaceorigin">getSpaceOrigin</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getvolumeforlayer">getVolumeForLayer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#getvoxelspacing">getVoxelSpacing</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#haslayerdata">hasLayerData</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#init">init</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#invalidateslicebuffer">invalidateSliceBuffer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#iscalculatoractive">isCalculatorActive</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#ischannelvisible">isChannelVisible</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#iscontrastshortcutenabled">isContrastShortcutEnabled</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#islayervisible">isLayerVisible</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#loaddisplayslicesarray">loadDisplaySlicesArray</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#loadingmaskbylayer">loadingMaskByLayer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#redo">redo</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#redolastpainting">redoLastPainting</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#redrawdisplaycanvas">redrawDisplayCanvas</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#redrawmianpreondisplaycanvas">redrawMianPreOnDisplayCanvas</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#refreshsphereoverlay">refreshSphereOverlay</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#reloadmasksfromvolume">reloadMasksFromVolume</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#removecontrastdragmode">removeContrastDragMode</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#removeskip">removeSkip</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#renderslicetocanvas">renderSliceToCanvas</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#repraintcurrentcontrastslice">repraintCurrentContrastSlice</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#reset">reset</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#resetchannelcolors">resetChannelColors</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#resetdisplayslicesstatus">resetDisplaySlicesStatus</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#resetlayercanvas">resetLayerCanvas</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#resetpaintareauiposition">resetPaintAreaUIPosition</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#resizepaintarea">resizePaintArea</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setactivechannel">setActiveChannel</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setactivelayer">setActiveLayer</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setactivespheretype">setActiveSphereType</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setalllayerschannelcolor">setAllLayersChannelColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setallslices">setAllSlices</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setbasedrawdisplaycanvasessize">setBaseDrawDisplayCanvasesSize</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setbrushsize">setBrushSize</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setcalculatedistancesphere">setCalculateDistanceSphere</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setchannelcolor">setChannelColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setchannelcolors">setChannelColors</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setchannelvisible">setChannelVisible</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setcontrastshortcutenabled">setContrastShortcutEnabled</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setdisplaysliceindexpanel">setDisplaySliceIndexPanel</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setdisplayslicesbaseonaxis">setDisplaySlicesBaseOnAxis</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setemptycanvassize">setEmptyCanvasSize</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#seteraserurls">setEraserUrls</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setisdrawfalse">setIsDrawFalse</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setkeyboardsettings">setKeyboardSettings</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setlayervisible">setLayerVisible</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setmainareasize">setMainAreaSize</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setmainpreslice">setMainPreSlice</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setmasksdata">setMasksData</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setmasksfromnifti">setMasksFromNIfTI</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setmode">setMode</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setopacity">setOpacity</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setorigincanvasandpre">setOriginCanvasAndPre</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setpencilcolor">setPencilColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setpenciliconurls">setPencilIconUrls</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setshowinmainarea">setShowInMainArea</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setslicemoving">setSliceMoving</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setsliceorientation">setSliceOrientation</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setsyncslicenum">setSyncsliceNum</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setwindowhigh">setWindowHigh</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setwindowlow">setWindowLow</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setupconfigs">setupConfigs</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setupconrastevents">setupConrastEvents</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setupgui">setupGUI</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#switchallslicesarraydata">switchAllSlicesArrayData</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#syncbrushcolor">syncBrushColor</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#syncguiparametersettings">syncGuiParameterSettings</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#synclayerslicedata">syncLayerSliceData</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#undo">undo</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#undolastpainting">undoLastPainting</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#updatemaxindex">updateMaxIndex</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#updatemousewheelevent">updateMouseWheelEvent</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#updateoriginandchangedwh">updateOriginAndChangedWH</a></li><li><a href="./Utils_segmentation_NrrdTools.NrrdTools.html#updateslicescontrast">updateSlicesContrast</a></li></ul><h2 id="constructors-1" tabindex="-1">Constructors <a class="header-anchor" href="#constructors-1" aria-label="Permalink to &quot;Constructors&quot;">​</a></h2><h3 id="constructor" tabindex="-1">constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to &quot;constructor&quot;">​</a></h3><p>• <strong>new NrrdTools</strong>(<code>container</code>, <code>options?</code>)</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>container</code></td><td style="text-align:left;"><code>HTMLDivElement</code></td></tr><tr><td style="text-align:left;"><code>options?</code></td><td style="text-align:left;"><code>Object</code></td></tr><tr><td style="text-align:left;"><code>options.layers?</code></td><td style="text-align:left;"><code>string</code>[]</td></tr></tbody></table><h4 id="overrides" tabindex="-1">Overrides <a class="header-anchor" href="#overrides" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#constructor">constructor</a></p><h4 id="defined-in" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L70" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:70</a></p><h2 id="properties-1" tabindex="-1">Properties <a class="header-anchor" href="#properties-1" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><h3 id="calculatoractive" tabindex="-1">_calculatorActive <a class="header-anchor" href="#calculatoractive" aria-label="Permalink to &quot;\\_calculatorActive&quot;">​</a></h3><p>• <code>Private</code> <strong>_calculatorActive</strong>: <code>boolean</code> = <code>false</code></p><p>Whether calculator mode is active (not part of gui_states interface)</p><h4 id="defined-in-1" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-1" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L56" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:56</a></p><hr><h3 id="configkeyboard" tabindex="-1">_configKeyBoard <a class="header-anchor" href="#configkeyboard" aria-label="Permalink to &quot;\\_configKeyBoard&quot;">​</a></h3><p>• <code>Protected</code> <strong>_configKeyBoard</strong>: <code>boolean</code> = <code>false</code></p><p>Whether the keyboard-config dialog is open (suppresses all shortcuts).</p><h4 id="inherited-from" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#_configkeyboard">_configKeyBoard</a></p><h4 id="defined-in-2" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-2" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L34" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:34</a></p><hr><h3 id="keyboardsettings" tabindex="-1">_keyboardSettings <a class="header-anchor" href="#keyboardsettings" aria-label="Permalink to &quot;\\_keyboardSettings&quot;">​</a></h3><p>• <code>Protected</code> <strong>_keyboardSettings</strong>: <code>IKeyBoardSettings</code></p><p>Active keyboard shortcut bindings.</p><h4 id="inherited-from-1" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-1" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#_keyboardsettings">_keyboardSettings</a></p><h4 id="defined-in-3" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-3" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L37" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:37</a></p><hr><h3 id="pendingslicestep" tabindex="-1">_pendingSliceStep <a class="header-anchor" href="#pendingslicestep" aria-label="Permalink to &quot;\\_pendingSliceStep&quot;">​</a></h3><p>• <code>Private</code> <strong>_pendingSliceStep</strong>: <code>number</code> = <code>0</code></p><h4 id="defined-in-4" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-4" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L53" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:53</a></p><hr><h3 id="slicerafid" tabindex="-1">_sliceRAFId <a class="header-anchor" href="#slicerafid" aria-label="Permalink to &quot;\\_sliceRAFId&quot;">​</a></h3><p>• <code>Private</code> <strong>_sliceRAFId</strong>: <code>null</code> | <code>number</code> = <code>null</code></p><h4 id="defined-in-5" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-5" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L52" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:52</a></p><hr><h3 id="annotationcallbacks" tabindex="-1">annotationCallbacks <a class="header-anchor" href="#annotationcallbacks" aria-label="Permalink to &quot;annotationCallbacks&quot;">​</a></h3><p>• <code>Protected</code> <strong>annotationCallbacks</strong>: <code>IAnnotationCallbacks</code></p><p>External annotation callbacks — set via draw() options</p><h4 id="inherited-from-2" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-2" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#annotationcallbacks">annotationCallbacks</a></p><h4 id="defined-in-6" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-6" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L25" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:25</a></p><hr><h3 id="basecanvasessize" tabindex="-1">baseCanvasesSize <a class="header-anchor" href="#basecanvasessize" aria-label="Permalink to &quot;baseCanvasesSize&quot;">​</a></h3><p>• <strong>baseCanvasesSize</strong>: <code>number</code> = <code>1</code></p><h4 id="inherited-from-3" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-3" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#basecanvasessize">baseCanvasesSize</a></p><h4 id="defined-in-7" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-7" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L17" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:17</a></p><hr><h3 id="container" tabindex="-1">container <a class="header-anchor" href="#container" aria-label="Permalink to &quot;container&quot;">​</a></h3><p>• <strong>container</strong>: <code>HTMLDivElement</code></p><h4 id="overrides-1" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-1" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#container">container</a></p><h4 id="defined-in-8" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-8" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L43" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:43</a></p><hr><h3 id="contrasteventprameters" tabindex="-1">contrastEventPrameters <a class="header-anchor" href="#contrasteventprameters" aria-label="Permalink to &quot;contrastEventPrameters&quot;">​</a></h3><p>• <strong>contrastEventPrameters</strong>: <code>IContrastEvents</code></p><h4 id="inherited-from-4" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-4" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#contrasteventprameters">contrastEventPrameters</a></p><h4 id="defined-in-9" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-9" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L36" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:36</a></p><hr><h3 id="contrasttool" tabindex="-1">contrastTool <a class="header-anchor" href="#contrasttool" aria-label="Permalink to &quot;contrastTool&quot;">​</a></h3><p>• <code>Protected</code> <strong>contrastTool</strong>: <code>ContrastTool</code></p><h4 id="inherited-from-5" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-5" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#contrasttool">contrastTool</a></p><h4 id="defined-in-10" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-10" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L59" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:59</a></p><hr><h3 id="crosshairtool" tabindex="-1">crosshairTool <a class="header-anchor" href="#crosshairtool" aria-label="Permalink to &quot;crosshairTool&quot;">​</a></h3><p>• <code>Protected</code> <strong>crosshairTool</strong>: <code>CrosshairTool</code></p><h4 id="inherited-from-6" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-6" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#crosshairtool">crosshairTool</a></p><h4 id="defined-in-11" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-11" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L58" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:58</a></p><hr><h3 id="cursorpage" tabindex="-1">cursorPage <a class="header-anchor" href="#cursorpage" aria-label="Permalink to &quot;cursorPage&quot;">​</a></h3><p>• <code>Protected</code> <strong>cursorPage</strong>: <code>ICursorPage</code></p><h4 id="inherited-from-7" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-7" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#cursorpage">cursorPage</a></p><h4 id="defined-in-12" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-12" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L49" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:49</a></p><hr><h3 id="dragoperator" tabindex="-1">dragOperator <a class="header-anchor" href="#dragoperator" aria-label="Permalink to &quot;dragOperator&quot;">​</a></h3><p>• <strong>dragOperator</strong>: <a href="./Utils_segmentation_DragOperator.DragOperator.html"><code>DragOperator</code></a></p><h4 id="defined-in-13" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-13" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L46" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:46</a></p><hr><h3 id="drawingprameters" tabindex="-1">drawingPrameters <a class="header-anchor" href="#drawingprameters" aria-label="Permalink to &quot;drawingPrameters&quot;">​</a></h3><p>• <strong>drawingPrameters</strong>: <code>IDrawingEvents</code></p><h4 id="inherited-from-8" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-8" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#drawingprameters">drawingPrameters</a></p><h4 id="defined-in-14" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-14" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L25" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:25</a></p><hr><h3 id="drawingtool" tabindex="-1">drawingTool <a class="header-anchor" href="#drawingtool" aria-label="Permalink to &quot;drawingTool&quot;">​</a></h3><p>• <code>Protected</code> <strong>drawingTool</strong>: <code>DrawingTool</code></p><h4 id="inherited-from-9" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-9" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#drawingtool">drawingTool</a></p><h4 id="defined-in-15" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-15" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L63" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:63</a></p><hr><h3 id="erasertool" tabindex="-1">eraserTool <a class="header-anchor" href="#erasertool" aria-label="Permalink to &quot;eraserTool&quot;">​</a></h3><p>• <code>Protected</code> <strong>eraserTool</strong>: <code>EraserTool</code></p><h4 id="inherited-from-10" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-10" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#erasertool">eraserTool</a></p><h4 id="defined-in-16" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-16" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L61" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:61</a></p><hr><h3 id="eraserurls" tabindex="-1">eraserUrls <a class="header-anchor" href="#eraserurls" aria-label="Permalink to &quot;eraserUrls&quot;">​</a></h3><p>• <strong>eraserUrls</strong>: <code>string</code>[] = <code>[]</code></p><h4 id="inherited-from-11" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-11" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#eraserurls">eraserUrls</a></p><h4 id="defined-in-17" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-17" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L49" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:49</a></p><hr><h3 id="eventrouter" tabindex="-1">eventRouter <a class="header-anchor" href="#eventrouter" aria-label="Permalink to &quot;eventRouter&quot;">​</a></h3><p>• <code>Protected</code> <strong>eventRouter</strong>: <code>null</code> | <code>EventRouter</code> = <code>null</code></p><h4 id="inherited-from-12" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-12" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#eventrouter">eventRouter</a></p><h4 id="defined-in-18" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-18" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L54" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:54</a></p><hr><h3 id="guicallbacks" tabindex="-1">guiCallbacks <a class="header-anchor" href="#guicallbacks" aria-label="Permalink to &quot;guiCallbacks&quot;">​</a></h3><p>• <code>Private</code> <strong>guiCallbacks</strong>: <code>null</code> | { <code>finishContrastAdjustment</code>: () =&gt; <code>void</code> ; <code>updateBrushAndEraserSize</code>: () =&gt; <code>void</code> ; <code>updateCalDistance</code>: (<code>val</code>: <code>&quot;tumour&quot;</code> | <code>&quot;skin&quot;</code> | <code>&quot;nipple&quot;</code> | <code>&quot;ribcage&quot;</code>) =&gt; <code>void</code> ; <code>updateEraserState</code>: () =&gt; <code>void</code> ; <code>updatePencilState</code>: () =&gt; <code>void</code> ; <code>updateSphereState</code>: () =&gt; <code>void</code> ; <code>updateWindowHigh</code>: (<code>value</code>: <code>number</code>) =&gt; <code>void</code> ; <code>updateWindowLow</code>: (<code>value</code>: <code>number</code>) =&gt; <code>void</code> } = <code>null</code></p><p>Stored closure callbacks from gui.ts setupGui()</p><h4 id="defined-in-19" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-19" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L59" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:59</a></p><hr><h3 id="guiparametersettings" tabindex="-1">guiParameterSettings <a class="header-anchor" href="#guiparametersettings" aria-label="Permalink to &quot;guiParameterSettings&quot;">​</a></h3><p>• <code>Private</code> <strong>guiParameterSettings</strong>: <code>undefined</code> | <code>IGuiParameterSettings</code></p><h4 id="defined-in-20" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-20" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L51" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:51</a></p><hr><h3 id="gui-states" tabindex="-1">gui_states <a class="header-anchor" href="#gui-states" aria-label="Permalink to &quot;gui\\_states&quot;">​</a></h3><p>• <code>Protected</code> <strong>gui_states</strong>: <code>GuiState</code></p><h4 id="inherited-from-13" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-13" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#gui_states">gui_states</a></p><h4 id="defined-in-21" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-21" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L70" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:70</a></p><hr><h3 id="imagestorehelper" tabindex="-1">imageStoreHelper <a class="header-anchor" href="#imagestorehelper" aria-label="Permalink to &quot;imageStoreHelper&quot;">​</a></h3><p>• <code>Protected</code> <strong>imageStoreHelper</strong>: <code>ImageStoreHelper</code></p><h4 id="inherited-from-14" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-14" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#imagestorehelper">imageStoreHelper</a></p><h4 id="defined-in-22" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-22" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L64" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:64</a></p><hr><h3 id="initstate" tabindex="-1">initState <a class="header-anchor" href="#initstate" aria-label="Permalink to &quot;initState&quot;">​</a></h3><p>• <code>Private</code> <strong>initState</strong>: <code>boolean</code> = <code>true</code></p><h4 id="defined-in-23" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-23" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L49" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:49</a></p><hr><h3 id="mainareacontainer" tabindex="-1">mainAreaContainer <a class="header-anchor" href="#mainareacontainer" aria-label="Permalink to &quot;mainAreaContainer&quot;">​</a></h3><p>• <strong>mainAreaContainer</strong>: <code>HTMLDivElement</code></p><h4 id="inherited-from-15" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-15" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#mainareacontainer">mainAreaContainer</a></p><h4 id="defined-in-24" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-24" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L24" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:24</a></p><hr><h3 id="nrrd-states" tabindex="-1">nrrd_states <a class="header-anchor" href="#nrrd-states" aria-label="Permalink to &quot;nrrd\\_states&quot;">​</a></h3><p>• <code>Protected</code> <strong>nrrd_states</strong>: <code>NrrdState</code></p><h4 id="inherited-from-16" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-16" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#nrrd_states">nrrd_states</a></p><h4 id="defined-in-25" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-25" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L47" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:47</a></p><hr><h3 id="paintedimage" tabindex="-1">paintedImage <a class="header-anchor" href="#paintedimage" aria-label="Permalink to &quot;paintedImage&quot;">​</a></h3><p>• <code>Private</code> <strong>paintedImage</strong>: <code>undefined</code> | <code>IPaintImage</code></p><h4 id="defined-in-26" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-26" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L47" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:47</a></p><hr><h3 id="pantool" tabindex="-1">panTool <a class="header-anchor" href="#pantool" aria-label="Permalink to &quot;panTool&quot;">​</a></h3><p>• <code>Protected</code> <strong>panTool</strong>: <code>PanTool</code></p><h4 id="inherited-from-17" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-17" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#pantool">panTool</a></p><h4 id="defined-in-27" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-27" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L62" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:62</a></p><hr><h3 id="pencilurls" tabindex="-1">pencilUrls <a class="header-anchor" href="#pencilurls" aria-label="Permalink to &quot;pencilUrls&quot;">​</a></h3><p>• <strong>pencilUrls</strong>: <code>string</code>[] = <code>[]</code></p><h4 id="inherited-from-18" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-18" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#pencilurls">pencilUrls</a></p><h4 id="defined-in-28" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-28" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L50" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:50</a></p><hr><h3 id="pretimer" tabindex="-1">preTimer <a class="header-anchor" href="#pretimer" aria-label="Permalink to &quot;preTimer&quot;">​</a></h3><p>• <code>Private</code> <strong>preTimer</strong>: <code>any</code></p><h4 id="defined-in-29" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-29" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L50" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:50</a></p><hr><h3 id="protecteddata" tabindex="-1">protectedData <a class="header-anchor" href="#protecteddata" aria-label="Permalink to &quot;protectedData&quot;">​</a></h3><p>• <code>Protected</code> <strong>protectedData</strong>: <code>IProtected</code></p><h4 id="inherited-from-19" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-19" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#protecteddata">protectedData</a></p><h4 id="defined-in-30" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-30" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L75" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:75</a></p><hr><h3 id="spheretool" tabindex="-1">sphereTool <a class="header-anchor" href="#spheretool" aria-label="Permalink to &quot;sphereTool&quot;">​</a></h3><p>• <code>Protected</code> <strong>sphereTool</strong>: <code>SphereTool</code></p><h4 id="inherited-from-20" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-20" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#spheretool">sphereTool</a></p><h4 id="defined-in-31" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-31" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L57" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:57</a></p><hr><h3 id="start" tabindex="-1">start <a class="header-anchor" href="#start" aria-label="Permalink to &quot;start&quot;">​</a></h3><p>• <strong>start</strong>: () =&gt; <code>void</code></p><h4 id="type-declaration" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (): <code>void</code></p><h5 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>void</code></p><h4 id="inherited-from-21" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-21" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#start">start</a></p><h4 id="defined-in-32" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-32" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L70" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:70</a></p><hr><h3 id="undomanager" tabindex="-1">undoManager <a class="header-anchor" href="#undomanager" aria-label="Permalink to &quot;undoManager&quot;">​</a></h3><p>• <strong>undoManager</strong>: <code>UndoManager</code></p><h4 id="inherited-from-22" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-22" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#undomanager">undoManager</a></p><h4 id="defined-in-33" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-33" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L51" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:51</a></p><hr><h3 id="zoomtool" tabindex="-1">zoomTool <a class="header-anchor" href="#zoomtool" aria-label="Permalink to &quot;zoomTool&quot;">​</a></h3><p>• <code>Protected</code> <strong>zoomTool</strong>: <code>ZoomTool</code></p><h4 id="inherited-from-23" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-23" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#zoomtool">zoomTool</a></p><h4 id="defined-in-34" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-34" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L60" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:60</a></p><h2 id="methods-1" tabindex="-1">Methods <a class="header-anchor" href="#methods-1" aria-label="Permalink to &quot;Methods&quot;">​</a></h2><h3 id="addskip" tabindex="-1">addSkip <a class="header-anchor" href="#addskip" aria-label="Permalink to &quot;addSkip&quot;">​</a></h3><p>▸ <strong>addSkip</strong>(<code>index</code>): <code>void</code></p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>index</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-35" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-35" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1302" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1302</a></p><hr><h3 id="adjustcontrast" tabindex="-1">adjustContrast <a class="header-anchor" href="#adjustcontrast" aria-label="Permalink to &quot;adjustContrast&quot;">​</a></h3><p>▸ <strong>adjustContrast</strong>(<code>type</code>, <code>delta</code>): <code>void</code></p><p>Adjust contrast by delta, used for drag-based contrast adjustment.</p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>type</code></td><td style="text-align:left;"><code>&quot;windowLow&quot;</code> | <code>&quot;windowHigh&quot;</code></td><td style="text-align:left;">&quot;windowHigh&quot; or &quot;windowLow&quot;</td></tr><tr><td style="text-align:left;"><code>delta</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Delta amount to adjust</td></tr></tbody></table><h4 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-36" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-36" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L388" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:388</a></p><hr><h3 id="afterloadslice" tabindex="-1">afterLoadSlice <a class="header-anchor" href="#afterloadslice" aria-label="Permalink to &quot;afterLoadSlice&quot;">​</a></h3><p>▸ <code>Private</code> <strong>afterLoadSlice</strong>(): <code>void</code></p><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-37" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-37" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1562" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1562</a></p><hr><h3 id="appendloadingbar" tabindex="-1">appendLoadingbar <a class="header-anchor" href="#appendloadingbar" aria-label="Permalink to &quot;appendLoadingbar&quot;">​</a></h3><p>▸ <strong>appendLoadingbar</strong>(<code>loadingbar</code>): <code>void</code></p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>loadingbar</code></td><td style="text-align:left;"><code>HTMLDivElement</code></td></tr></tbody></table><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-38" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-38" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1614" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1614</a></p><hr><h3 id="applymaskflipforaxis" tabindex="-1">applyMaskFlipForAxis <a class="header-anchor" href="#applymaskflipforaxis" aria-label="Permalink to &quot;applyMaskFlipForAxis&quot;">​</a></h3><p>▸ <strong>applyMaskFlipForAxis</strong>(<code>ctx</code>, <code>width</code>, <code>height</code>, <code>axis</code>): <code>void</code></p><p>Apply the same flip transform used by flipDisplayImageByAxis() to any canvas context. This ensures mask overlays align with the flipped CT image.</p><p>The flip is its own inverse (applying twice = identity), so it works for both directions: volume→display (rendering) and display→volume (storing).</p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>ctx</code></td><td style="text-align:left;"><code>CanvasRenderingContext2D</code></td><td style="text-align:left;">Target 2D context (must be wrapped in save/restore by caller).</td></tr><tr><td style="text-align:left;"><code>width</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Canvas width in pixels.</td></tr><tr><td style="text-align:left;"><code>height</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Canvas height in pixels.</td></tr><tr><td style="text-align:left;"><code>axis</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td><td style="text-align:left;">Current viewing axis.</td></tr></tbody></table><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-24" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-24" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#applymaskflipforaxis">applyMaskFlipForAxis</a></p><h4 id="defined-in-39" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-39" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L541" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:541</a></p><hr><h3 id="clearactivelayer" tabindex="-1">clearActiveLayer <a class="header-anchor" href="#clearactivelayer" aria-label="Permalink to &quot;clearActiveLayer&quot;">​</a></h3><p>▸ <strong>clearActiveLayer</strong>(): <code>void</code></p><p>Clear all annotations on the currently active layer across its entire 3D volume. This resets all voxels globally for the active layer&#39;s <code>MaskVolume</code> (depth, width, height) and triggers the <code>onClearLayerVolume</code> event to sync the wiped volume to the backend. It also clears the undo/redo stack for the active layer ONLY. Other background layers are not impacted by this operation.</p><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-2" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-2" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#clearactivelayer">clearActiveLayer</a></p><h4 id="defined-in-40" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-40" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1625" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1625</a></p><hr><h3 id="clearactiveslice" tabindex="-1">clearActiveSlice <a class="header-anchor" href="#clearactiveslice" aria-label="Permalink to &quot;clearActiveSlice&quot;">​</a></h3><p>▸ <strong>clearActiveSlice</strong>(): <code>void</code></p><p>Clear the mask on the current slice canvas for the active layer ONLY.</p><p>This method only clears the active layer&#39;s MaskVolume slice data for the currently viewed slice index. Other slices in the same layer remain intact. Other background layers are also left untouched. After clearing, all layer canvases are re-rendered from the <code>MaskVolume</code> to keep the visuals in sync.</p><p>The operation is recorded to the UndoManager to allow for user rollback.</p><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-25" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-25" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#clearactiveslice">clearActiveSlice</a></p><h4 id="defined-in-41" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-41" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L881" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:881</a></p><hr><h3 id="cleardictionary" tabindex="-1">clearDictionary <a class="header-anchor" href="#cleardictionary" aria-label="Permalink to &quot;clearDictionary&quot;">​</a></h3><p>▸ <code>Private</code> <strong>clearDictionary</strong>(<code>dic</code>): <code>void</code></p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>dic</code></td><td style="text-align:left;"><code>ISkipSlicesDictType</code></td></tr></tbody></table><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-42" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-42" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1896" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1896</a></p><hr><h3 id="compositealllayers" tabindex="-1">compositeAllLayers <a class="header-anchor" href="#compositealllayers" aria-label="Permalink to &quot;compositeAllLayers&quot;">​</a></h3><p>▸ <strong>compositeAllLayers</strong>(): <code>void</code></p><p>Composite all layer canvases to the master display canvas. Only draws layers whose visibility is enabled.</p><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-26" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-26" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#compositealllayers">compositeAllLayers</a></p><h4 id="defined-in-43" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-43" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L567" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:567</a></p><hr><h3 id="configcontrastdragmode" tabindex="-1">configContrastDragMode <a class="header-anchor" href="#configcontrastdragmode" aria-label="Permalink to &quot;configContrastDragMode&quot;">​</a></h3><p>▸ <strong>configContrastDragMode</strong>(): <code>void</code></p><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-27" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-27" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#configcontrastdragmode">configContrastDragMode</a></p><h4 id="defined-in-44" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-44" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L1061" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:1061</a></p><hr><h3 id="configmouseslicewheel" tabindex="-1">configMouseSliceWheel <a class="header-anchor" href="#configmouseslicewheel" aria-label="Permalink to &quot;configMouseSliceWheel&quot;">​</a></h3><p>▸ <strong>configMouseSliceWheel</strong>(): (<code>e</code>: <code>WheelEvent</code>) =&gt; <code>void</code></p><p>Config mouse slice wheel event.</p><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>fn</code></p><p>▸ (<code>e</code>): <code>void</code></p><h5 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>e</code></td><td style="text-align:left;"><code>WheelEvent</code></td></tr></tbody></table><h5 id="returns-12" tabindex="-1">Returns <a class="header-anchor" href="#returns-12" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>void</code></p><h4 id="overrides-3" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-3" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#configmouseslicewheel">configMouseSliceWheel</a></p><h4 id="defined-in-45" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-45" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1967" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1967</a></p><hr><h3 id="configmousezoomwheel" tabindex="-1">configMouseZoomWheel <a class="header-anchor" href="#configmousezoomwheel" aria-label="Permalink to &quot;configMouseZoomWheel&quot;">​</a></h3><p>▸ <strong>configMouseZoomWheel</strong>(): (<code>e</code>: <code>WheelEvent</code>) =&gt; <code>void</code></p><h4 id="returns-13" tabindex="-1">Returns <a class="header-anchor" href="#returns-13" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>fn</code></p><p>▸ (<code>e</code>): <code>void</code></p><h5 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>e</code></td><td style="text-align:left;"><code>WheelEvent</code></td></tr></tbody></table><h5 id="returns-14" tabindex="-1">Returns <a class="header-anchor" href="#returns-14" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>void</code></p><h4 id="inherited-from-28" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-28" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#configmousezoomwheel">configMouseZoomWheel</a></p><h4 id="defined-in-46" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-46" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L777" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:777</a></p><hr><h3 id="convertcursorpoint" tabindex="-1">convertCursorPoint <a class="header-anchor" href="#convertcursorpoint" aria-label="Permalink to &quot;convertCursorPoint&quot;">​</a></h3><p>▸ <strong>convertCursorPoint</strong>(<code>from</code>, <code>to</code>, <code>cursorNumX</code>, <code>cursorNumY</code>, <code>currentSliceIndex</code>): <code>undefined</code> | <code>IConvertObjType</code></p><p>Convert cursor point between axis views. Delegated to CrosshairTool.</p><h4 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>from</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td></tr><tr><td style="text-align:left;"><code>to</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td></tr><tr><td style="text-align:left;"><code>cursorNumX</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>cursorNumY</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>currentSliceIndex</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-15" tabindex="-1">Returns <a class="header-anchor" href="#returns-15" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>undefined</code> | <code>IConvertObjType</code></p><h4 id="inherited-from-29" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-29" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#convertcursorpoint">convertCursorPoint</a></p><h4 id="defined-in-47" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-47" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L844" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:844</a></p><hr><h3 id="drag" tabindex="-1">drag <a class="header-anchor" href="#drag" aria-label="Permalink to &quot;drag&quot;">​</a></h3><p>▸ <strong>drag</strong>(<code>opts?</code>): <code>void</code></p><p>core function for drag slices</p><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>opts?</code></td><td style="text-align:left;"><code>IDragOpts</code></td></tr></tbody></table><h4 id="returns-16" tabindex="-1">Returns <a class="header-anchor" href="#returns-16" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-48" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-48" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L102" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:102</a></p><hr><h3 id="draw" tabindex="-1">draw <a class="header-anchor" href="#draw" aria-label="Permalink to &quot;draw&quot;">​</a></h3><p>▸ <strong>draw</strong>(<code>opts?</code>): <code>void</code></p><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>opts?</code></td><td style="text-align:left;"><code>IDrawOpts</code></td></tr></tbody></table><h4 id="returns-17" tabindex="-1">Returns <a class="header-anchor" href="#returns-17" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-30" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-30" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#draw">draw</a></p><h4 id="defined-in-49" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-49" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L271" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:271</a></p><hr><h3 id="drawcalculatorsphere" tabindex="-1">drawCalculatorSphere <a class="header-anchor" href="#drawcalculatorsphere" aria-label="Permalink to &quot;drawCalculatorSphere&quot;">​</a></h3><p>▸ <strong>drawCalculatorSphere</strong>(<code>radius</code>): <code>void</code></p><h4 id="parameters-11" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-11" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>radius</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-18" tabindex="-1">Returns <a class="header-anchor" href="#returns-18" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-31" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-31" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#drawcalculatorsphere">drawCalculatorSphere</a></p><h4 id="defined-in-50" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-50" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L822" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:822</a></p><hr><h3 id="drawcalculatorsphereoneachviews" tabindex="-1">drawCalculatorSphereOnEachViews <a class="header-anchor" href="#drawcalculatorsphereoneachviews" aria-label="Permalink to &quot;drawCalculatorSphereOnEachViews&quot;">​</a></h3><p>▸ <strong>drawCalculatorSphereOnEachViews</strong>(<code>axis</code>): <code>void</code></p><p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Sphere functions (delegated to SphereTool)</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>*************************</p><h4 id="parameters-12" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-12" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>axis</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td></tr></tbody></table><h4 id="returns-19" tabindex="-1">Returns <a class="header-anchor" href="#returns-19" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-32" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-32" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#drawcalculatorsphereoneachviews">drawCalculatorSphereOnEachViews</a></p><h4 id="defined-in-51" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-51" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L810" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:810</a></p><hr><h3 id="drawimageonemptyimage" tabindex="-1">drawImageOnEmptyImage <a class="header-anchor" href="#drawimageonemptyimage" aria-label="Permalink to &quot;drawImageOnEmptyImage&quot;">​</a></h3><p>▸ <strong>drawImageOnEmptyImage</strong>(<code>canvas</code>): <code>void</code></p><h4 id="parameters-13" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-13" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>canvas</code></td><td style="text-align:left;"><code>HTMLCanvasElement</code></td></tr></tbody></table><h4 id="returns-20" tabindex="-1">Returns <a class="header-anchor" href="#returns-20" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-33" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-33" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#drawimageonemptyimage">drawImageOnEmptyImage</a></p><h4 id="defined-in-52" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-52" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L795" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:795</a></p><hr><h3 id="drawsphere" tabindex="-1">drawSphere <a class="header-anchor" href="#drawsphere" aria-label="Permalink to &quot;drawSphere&quot;">​</a></h3><p>▸ <strong>drawSphere</strong>(<code>mouseX</code>, <code>mouseY</code>, <code>radius</code>): <code>void</code></p><h4 id="parameters-14" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-14" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>mouseX</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>mouseY</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>radius</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-21" tabindex="-1">Returns <a class="header-anchor" href="#returns-21" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-34" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-34" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#drawsphere">drawSphere</a></p><h4 id="defined-in-53" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-53" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L826" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:826</a></p><hr><h3 id="enablecontrastdragevents" tabindex="-1">enableContrastDragEvents <a class="header-anchor" href="#enablecontrastdragevents" aria-label="Permalink to &quot;enableContrastDragEvents&quot;">​</a></h3><p>▸ <strong>enableContrastDragEvents</strong>(<code>callback</code>): <code>void</code></p><p>Enable the drag function for contrast images window center and window high.</p><h4 id="parameters-15" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-15" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>callback</code></td><td style="text-align:left;">(<code>step</code>: <code>number</code>, <code>towards</code>: <code>&quot;horizental&quot;</code> | <code>&quot;vertical&quot;</code>) =&gt; <code>void</code></td></tr></tbody></table><h4 id="returns-22" tabindex="-1">Returns <a class="header-anchor" href="#returns-22" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-54" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-54" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L128" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:128</a></p><hr><h3 id="enterkeyboardconfig" tabindex="-1">enterKeyboardConfig <a class="header-anchor" href="#enterkeyboardconfig" aria-label="Permalink to &quot;enterKeyboardConfig&quot;">​</a></h3><p>▸ <strong>enterKeyboardConfig</strong>(): <code>void</code></p><p>Enter keyboard-configuration mode.</p><p>While active, every keydown/keyup handler in DrawToolCore and DragOperator is suppressed so the user can press arbitrary keys in the settings dialog without accidentally triggering drawing, undo, or contrast shortcuts.</p><p>Always pair with <a href="./Utils_segmentation_NrrdTools.NrrdTools.html#exitkeyboardconfig">exitKeyboardConfig</a> when the dialog closes.</p><h4 id="returns-23" tabindex="-1">Returns <a class="header-anchor" href="#returns-23" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">dialog.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;open&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> nrrdTools.</span><span style="color:#B392F0;">enterKeyboardConfig</span><span style="color:#E1E4E8;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">dialog.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;open&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> nrrdTools.</span><span style="color:#6F42C1;">enterKeyboardConfig</span><span style="color:#24292E;">());</span></span></code></pre></div><h4 id="defined-in-55" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-55" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L785" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:785</a></p><hr><h3 id="enterspheremode" tabindex="-1">enterSphereMode <a class="header-anchor" href="#enterspheremode" aria-label="Permalink to &quot;enterSphereMode&quot;">​</a></h3><p>▸ <strong>enterSphereMode</strong>(): <code>void</code></p><p>Enter sphere mode.</p><p>Clears all layer canvases and the master composite canvas so that only the sphere overlay is visible. Does NOT touch MaskVolume data. Also disables drag mode to prevent slice dragging conflicts.</p><p>Called when sphere mode is toggled on (keyboard shortcut or GUI).</p><h4 id="returns-24" tabindex="-1">Returns <a class="header-anchor" href="#returns-24" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-4" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-4" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#enterspheremode">enterSphereMode</a></p><h4 id="defined-in-56" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-56" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1691" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1691</a></p><hr><h3 id="executeaction" tabindex="-1">executeAction <a class="header-anchor" href="#executeaction" aria-label="Permalink to &quot;executeAction&quot;">​</a></h3><p>▸ <strong>executeAction</strong>(<code>action</code>): <code>void</code></p><p>Execute a named UI action.</p><h4 id="parameters-16" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-16" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>action</code></td><td style="text-align:left;"><code>&quot;undo&quot;</code> | <code>&quot;redo&quot;</code> | <code>&quot;resetZoom&quot;</code> | <code>&quot;downloadCurrentMask&quot;</code> | <code>&quot;clearActiveSliceMask&quot;</code> | <code>&quot;clearActiveLayerMask&quot;</code></td><td style="text-align:left;">Action name Renamed from original gui_states methods: - &quot;clearActiveSliceMask&quot; (was &quot;clear&quot;) — clear annotations on current slice - &quot;clearActiveLayerMask&quot; (was &quot;clearAll&quot;) — clear annotations on all slices for active layer</td></tr></tbody></table><h4 id="returns-25" tabindex="-1">Returns <a class="header-anchor" href="#returns-25" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-57" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-57" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L457" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:457</a></p><hr><h3 id="exitkeyboardconfig" tabindex="-1">exitKeyboardConfig <a class="header-anchor" href="#exitkeyboardconfig" aria-label="Permalink to &quot;exitKeyboardConfig&quot;">​</a></h3><p>▸ <strong>exitKeyboardConfig</strong>(): <code>void</code></p><p>Exit keyboard-configuration mode and resume normal shortcut handling.</p><h4 id="returns-26" tabindex="-1">Returns <a class="header-anchor" href="#returns-26" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">dialog.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;close&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> nrrdTools.</span><span style="color:#B392F0;">exitKeyboardConfig</span><span style="color:#E1E4E8;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">dialog.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;close&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> nrrdTools.</span><span style="color:#6F42C1;">exitKeyboardConfig</span><span style="color:#24292E;">());</span></span></code></pre></div><h4 id="defined-in-58" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-58" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L797" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:797</a></p><hr><h3 id="exitspheremode" tabindex="-1">exitSphereMode <a class="header-anchor" href="#exitspheremode" aria-label="Permalink to &quot;exitSphereMode&quot;">​</a></h3><p>▸ <strong>exitSphereMode</strong>(): <code>void</code></p><p>Exit sphere mode.</p><p>Clears sphere overlay, restores all layer MaskVolume data onto their canvases by temporarily lifting the sphere guard in reloadMasksFromVolume and calling it.</p><p>Called when sphere mode is toggled off (keyboard shortcut or GUI).</p><h4 id="returns-27" tabindex="-1">Returns <a class="header-anchor" href="#returns-27" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-5" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-5" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#exitspheremode">exitSphereMode</a></p><h4 id="defined-in-59" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-59" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1722" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1722</a></p><hr><h3 id="filterdrawedimage" tabindex="-1">filterDrawedImage <a class="header-anchor" href="#filterdrawedimage" aria-label="Permalink to &quot;filterDrawedImage&quot;">​</a></h3><p>▸ <strong>filterDrawedImage</strong>(<code>axis</code>, <code>sliceIndex</code>): <code>undefined</code> | { <code>image</code>: <code>ImageData</code> ; <code>index</code>: <code>number</code> }</p><p>Get a painted mask image based on current axis and input slice index.</p><p>Phase 3: Reads directly from MaskVolume.</p><h4 id="parameters-17" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-17" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>axis</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td><td style="text-align:left;">&quot;x&quot; | &quot;y&quot; | &quot;z&quot;</td></tr><tr><td style="text-align:left;"><code>sliceIndex</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">number</td></tr></tbody></table><h4 id="returns-28" tabindex="-1">Returns <a class="header-anchor" href="#returns-28" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>undefined</code> | { <code>image</code>: <code>ImageData</code> ; <code>index</code>: <code>number</code> }</p><p>Object with index and image, or undefined</p><h4 id="inherited-from-35" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-35" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#filterdrawedimage">filterDrawedImage</a></p><h4 id="defined-in-60" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-60" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L401" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:401</a></p><hr><h3 id="finishwindowadjustment" tabindex="-1">finishWindowAdjustment <a class="header-anchor" href="#finishwindowadjustment" aria-label="Permalink to &quot;finishWindowAdjustment&quot;">​</a></h3><p>▸ <strong>finishWindowAdjustment</strong>(): <code>void</code></p><p>Finish a window/contrast adjustment (repaint all contrast slices).</p><h4 id="returns-29" tabindex="-1">Returns <a class="header-anchor" href="#returns-29" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-61" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-61" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L379" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:379</a></p><hr><h3 id="flipdisplayimagebyaxis" tabindex="-1">flipDisplayImageByAxis <a class="header-anchor" href="#flipdisplayimagebyaxis" aria-label="Permalink to &quot;flipDisplayImageByAxis&quot;">​</a></h3><p>▸ <strong>flipDisplayImageByAxis</strong>(): <code>void</code></p><p>flip the canvas to a correct position. This is because the slice canvas from threejs is not in a correct 2D postion. Thus, everytime when we redraw the display canvas, we need to flip to draw the origin canvas from threejs. Under different axis(sagittal, Axial, Coronal), the flip orientation is different.</p><h4 id="returns-30" tabindex="-1">Returns <a class="header-anchor" href="#returns-30" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-6" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-6" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#flipdisplayimagebyaxis">flipDisplayImageByAxis</a></p><h4 id="defined-in-62" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-62" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1873" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1873</a></p><hr><h3 id="getactivechannel" tabindex="-1">getActiveChannel <a class="header-anchor" href="#getactivechannel" aria-label="Permalink to &quot;getActiveChannel&quot;">​</a></h3><p>▸ <strong>getActiveChannel</strong>(): <code>number</code></p><p>Get the currently active channel value.</p><h4 id="returns-31" tabindex="-1">Returns <a class="header-anchor" href="#returns-31" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code></p><h4 id="defined-in-63" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-63" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L527" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:527</a></p><hr><h3 id="getactivelayer" tabindex="-1">getActiveLayer <a class="header-anchor" href="#getactivelayer" aria-label="Permalink to &quot;getActiveLayer&quot;">​</a></h3><p>▸ <strong>getActiveLayer</strong>(): <code>string</code></p><p>Get the currently active layer id.</p><h4 id="returns-32" tabindex="-1">Returns <a class="header-anchor" href="#returns-32" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-64" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-64" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L520" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:520</a></p><hr><h3 id="getactivespheretype" tabindex="-1">getActiveSphereType <a class="header-anchor" href="#getactivespheretype" aria-label="Permalink to &quot;getActiveSphereType&quot;">​</a></h3><p>▸ <strong>getActiveSphereType</strong>(): <code>SphereType</code></p><p>Get the currently active sphere type.</p><h4 id="returns-33" tabindex="-1">Returns <a class="header-anchor" href="#returns-33" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>SphereType</code></p><h4 id="defined-in-65" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-65" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L245" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:245</a></p><hr><h3 id="getallvolumes" tabindex="-1">getAllVolumes <a class="header-anchor" href="#getallvolumes" aria-label="Permalink to &quot;getAllVolumes&quot;">​</a></h3><p>▸ <strong>getAllVolumes</strong>(): <code>INewMaskData</code></p><p>Get all three MaskVolume instances</p><h4 id="returns-34" tabindex="-1">Returns <a class="header-anchor" href="#returns-34" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>INewMaskData</code></p><p>Object containing all three layer volumes</p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">layer1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">layer2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">layer3</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getAllVolumes</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">layer1.</span><span style="color:#B392F0;">clear</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">layer1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">layer2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">layer3</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getAllVolumes</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">layer1.</span><span style="color:#6F42C1;">clear</span><span style="color:#24292E;">();</span></span></code></pre></div><h4 id="inherited-from-36" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-36" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#getallvolumes">getAllVolumes</a></p><h4 id="defined-in-66" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-66" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L228" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:228</a></p><hr><h3 id="getbrushsize" tabindex="-1">getBrushSize <a class="header-anchor" href="#getbrushsize" aria-label="Permalink to &quot;getBrushSize&quot;">​</a></h3><p>▸ <strong>getBrushSize</strong>(): <code>number</code></p><p>Get the current brush/eraser size.</p><h4 id="returns-35" tabindex="-1">Returns <a class="header-anchor" href="#returns-35" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code></p><h4 id="defined-in-67" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-67" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L354" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:354</a></p><hr><h3 id="getchannelcolor" tabindex="-1">getChannelColor <a class="header-anchor" href="#getchannelcolor" aria-label="Permalink to &quot;getChannelColor&quot;">​</a></h3><p>▸ <strong>getChannelColor</strong>(<code>layerId</code>, <code>channel</code>): <code>RGBAColor</code></p><p>Get the current color for a specific channel in a specific layer.</p><h4 id="parameters-18" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-18" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Layer to query</td></tr><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Channel label (1-8)</td></tr></tbody></table><h4 id="returns-36" tabindex="-1">Returns <a class="header-anchor" href="#returns-36" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>RGBAColor</code></p><p>RGBAColor object (copy, safe to mutate)</p><h4 id="defined-in-68" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-68" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L642" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:642</a></p><hr><h3 id="getchannelcsscolor" tabindex="-1">getChannelCssColor <a class="header-anchor" href="#getchannelcsscolor" aria-label="Permalink to &quot;getChannelCssColor&quot;">​</a></h3><p>▸ <strong>getChannelCssColor</strong>(<code>layerId</code>, <code>channel</code>): <code>string</code></p><p>Get a CSS rgba() color string for a channel in a layer.</p><h4 id="parameters-19" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-19" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-37" tabindex="-1">Returns <a class="header-anchor" href="#returns-37" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-69" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-69" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L660" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:660</a></p><hr><h3 id="getchannelhexcolor" tabindex="-1">getChannelHexColor <a class="header-anchor" href="#getchannelhexcolor" aria-label="Permalink to &quot;getChannelHexColor&quot;">​</a></h3><p>▸ <strong>getChannelHexColor</strong>(<code>layerId</code>, <code>channel</code>): <code>string</code></p><p>Get a hex color string for a channel in a layer (e.g. &#39;#ff8000&#39;).</p><h4 id="parameters-20" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-20" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-38" tabindex="-1">Returns <a class="header-anchor" href="#returns-38" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-70" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-70" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L653" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:653</a></p><hr><h3 id="getchannelvisibility" tabindex="-1">getChannelVisibility <a class="header-anchor" href="#getchannelvisibility" aria-label="Permalink to &quot;getChannelVisibility&quot;">​</a></h3><p>▸ <strong>getChannelVisibility</strong>(): <code>Record</code>&lt;<code>string</code>, <code>Record</code>&lt;<code>number</code>, <code>boolean</code>&gt;&gt;</p><p>Get the full channel visibility map.</p><h4 id="returns-39" tabindex="-1">Returns <a class="header-anchor" href="#returns-39" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Record</code>&lt;<code>string</code>, <code>Record</code>&lt;<code>number</code>, <code>boolean</code>&gt;&gt;</p><h4 id="defined-in-71" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-71" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L573" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:573</a></p><hr><h3 id="getcontainer" tabindex="-1">getContainer <a class="header-anchor" href="#getcontainer" aria-label="Permalink to &quot;getContainer&quot;">​</a></h3><p>▸ <strong>getContainer</strong>(): <code>HTMLElement</code></p><h4 id="returns-40" tabindex="-1">Returns <a class="header-anchor" href="#returns-40" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>HTMLElement</code></p><h4 id="defined-in-72" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-72" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1410" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1410</a></p><hr><h3 id="getcurrentimagedimension" tabindex="-1">getCurrentImageDimension <a class="header-anchor" href="#getcurrentimagedimension" aria-label="Permalink to &quot;getCurrentImageDimension&quot;">​</a></h3><p>▸ <strong>getCurrentImageDimension</strong>(): <code>number</code>[]</p><h4 id="returns-41" tabindex="-1">Returns <a class="header-anchor" href="#returns-41" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code>[]</p><h4 id="defined-in-73" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-73" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1090" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1090</a></p><hr><h3 id="getcurrentsliceindex" tabindex="-1">getCurrentSliceIndex <a class="header-anchor" href="#getcurrentsliceindex" aria-label="Permalink to &quot;getCurrentSliceIndex&quot;">​</a></h3><p>▸ <strong>getCurrentSliceIndex</strong>(): <code>number</code></p><h4 id="returns-42" tabindex="-1">Returns <a class="header-anchor" href="#returns-42" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code></p><h4 id="defined-in-74" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-74" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1437" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1437</a></p><hr><h3 id="getcurrentslicesnumandcontrastnum" tabindex="-1">getCurrentSlicesNumAndContrastNum <a class="header-anchor" href="#getcurrentslicesnumandcontrastnum" aria-label="Permalink to &quot;getCurrentSlicesNumAndContrastNum&quot;">​</a></h3><p>▸ <strong>getCurrentSlicesNumAndContrastNum</strong>(): <code>Object</code></p><h4 id="returns-43" tabindex="-1">Returns <a class="header-anchor" href="#returns-43" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Object</code></p><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>contrastIndex</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>currentSliceIndex</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="defined-in-75" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-75" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1430" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1430</a></p><hr><h3 id="getcurrentvolume" tabindex="-1">getCurrentVolume <a class="header-anchor" href="#getcurrentvolume" aria-label="Permalink to &quot;getCurrentVolume&quot;">​</a></h3><p>▸ <strong>getCurrentVolume</strong>(): <code>MaskVolume</code></p><p>Get MaskVolume for the currently active layer</p><h4 id="returns-44" tabindex="-1">Returns <a class="header-anchor" href="#returns-44" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>MaskVolume</code></p><p>MaskVolume instance for the current layer</p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getCurrentVolume</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">slice</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> volume.</span><span style="color:#B392F0;">getSliceImageData</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;z&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">volume</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getCurrentVolume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">slice</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> volume.</span><span style="color:#6F42C1;">getSliceImageData</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;z&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="inherited-from-37" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-37" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#getcurrentvolume">getCurrentVolume</a></p><h4 id="defined-in-76" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-76" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L213" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:213</a></p><hr><h3 id="getdrawingcanvas" tabindex="-1">getDrawingCanvas <a class="header-anchor" href="#getdrawingcanvas" aria-label="Permalink to &quot;getDrawingCanvas&quot;">​</a></h3><p>▸ <strong>getDrawingCanvas</strong>(): <code>HTMLCanvasElement</code></p><h4 id="returns-45" tabindex="-1">Returns <a class="header-anchor" href="#returns-45" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>HTMLCanvasElement</code></p><h4 id="defined-in-77" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-77" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1413" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1413</a></p><hr><h3 id="getisshowcontraststate" tabindex="-1">getIsShowContrastState <a class="header-anchor" href="#getisshowcontraststate" aria-label="Permalink to &quot;getIsShowContrastState&quot;">​</a></h3><p>▸ <strong>getIsShowContrastState</strong>(): <code>boolean</code></p><h4 id="returns-46" tabindex="-1">Returns <a class="header-anchor" href="#returns-46" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>boolean</code></p><h4 id="defined-in-78" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-78" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1443" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1443</a></p><hr><h3 id="getkeyboardsettings" tabindex="-1">getKeyboardSettings <a class="header-anchor" href="#getkeyboardsettings" aria-label="Permalink to &quot;getKeyboardSettings&quot;">​</a></h3><p>▸ <strong>getKeyboardSettings</strong>(): <code>IKeyBoardSettings</code></p><p>Get a snapshot of the current keyboard shortcut bindings.</p><p>Returns a shallow copy so callers cannot accidentally mutate internal state. To update settings use <a href="./Utils_segmentation_NrrdTools.NrrdTools.html#setkeyboardsettings">setKeyboardSettings</a> instead.</p><h4 id="returns-47" tabindex="-1">Returns <a class="header-anchor" href="#returns-47" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>IKeyBoardSettings</code></p><p>Current keyboard settings.</p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">undo</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">redo</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> nrrdTools.</span><span style="color:#B392F0;">getKeyboardSettings</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`Undo: Ctrl+\${</span><span style="color:#E1E4E8;">undo</span><span style="color:#9ECBFF;">}, Redo: Ctrl+\${</span><span style="color:#E1E4E8;">redo</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">undo</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">redo</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> nrrdTools.</span><span style="color:#6F42C1;">getKeyboardSettings</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">\`Undo: Ctrl+\${</span><span style="color:#24292E;">undo</span><span style="color:#032F62;">}, Redo: Ctrl+\${</span><span style="color:#24292E;">redo</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="defined-in-79" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-79" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L882" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:882</a></p><hr><h3 id="getlayervisibility" tabindex="-1">getLayerVisibility <a class="header-anchor" href="#getlayervisibility" aria-label="Permalink to &quot;getLayerVisibility&quot;">​</a></h3><p>▸ <strong>getLayerVisibility</strong>(): <code>Record</code>&lt;<code>string</code>, <code>boolean</code>&gt;</p><p>Get the full layer visibility map.</p><h4 id="returns-48" tabindex="-1">Returns <a class="header-anchor" href="#returns-48" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Record</code>&lt;<code>string</code>, <code>boolean</code>&gt;</p><h4 id="defined-in-80" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-80" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L566" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:566</a></p><hr><h3 id="getmaskdata" tabindex="-1">getMaskData <a class="header-anchor" href="#getmaskdata" aria-label="Permalink to &quot;getMaskData&quot;">​</a></h3><p>▸ <strong>getMaskData</strong>(): <code>IMaskData</code></p><h4 id="returns-49" tabindex="-1">Returns <a class="header-anchor" href="#returns-49" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>IMaskData</code></p><h4 id="defined-in-81" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-81" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1100" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1100</a></p><hr><h3 id="getmaxslicenum" tabindex="-1">getMaxSliceNum <a class="header-anchor" href="#getmaxslicenum" aria-label="Permalink to &quot;getMaxSliceNum&quot;">​</a></h3><p>▸ <strong>getMaxSliceNum</strong>(): <code>number</code>[]</p><h4 id="returns-50" tabindex="-1">Returns <a class="header-anchor" href="#returns-50" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code>[]</p><h4 id="defined-in-82" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-82" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1420" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1420</a></p><hr><h3 id="getmode" tabindex="-1">getMode <a class="header-anchor" href="#getmode" aria-label="Permalink to &quot;getMode&quot;">​</a></h3><p>▸ <strong>getMode</strong>(): <code>ToolMode</code></p><p>Get the current tool mode based on gui_states flags.</p><h4 id="returns-51" tabindex="-1">Returns <a class="header-anchor" href="#returns-51" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>ToolMode</code></p><h4 id="defined-in-83" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-83" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L310" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:310</a></p><hr><h3 id="getnrrdtoolssettings" tabindex="-1">getNrrdToolsSettings <a class="header-anchor" href="#getnrrdtoolssettings" aria-label="Permalink to &quot;getNrrdToolsSettings&quot;">​</a></h3><p>▸ <strong>getNrrdToolsSettings</strong>(): <code>NrrdState</code></p><h4 id="returns-52" tabindex="-1">Returns <a class="header-anchor" href="#returns-52" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>NrrdState</code></p><h4 id="defined-in-84" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-84" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1416" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1416</a></p><hr><h3 id="getopacity" tabindex="-1">getOpacity <a class="header-anchor" href="#getopacity" aria-label="Permalink to &quot;getOpacity&quot;">​</a></h3><p>▸ <strong>getOpacity</strong>(): <code>number</code></p><p>Get the current mask overlay opacity.</p><h4 id="returns-53" tabindex="-1">Returns <a class="header-anchor" href="#returns-53" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code></p><h4 id="defined-in-85" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-85" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L338" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:338</a></p><hr><h3 id="getorcreateslicebuffer" tabindex="-1">getOrCreateSliceBuffer <a class="header-anchor" href="#getorcreateslicebuffer" aria-label="Permalink to &quot;getOrCreateSliceBuffer&quot;">​</a></h3><p>▸ <strong>getOrCreateSliceBuffer</strong>(<code>axis</code>): <code>null</code> | <code>ImageData</code></p><p>Get or create a reusable ImageData buffer for the given axis.</p><p>Reuses the same buffer across multiple slice renders to avoid allocating a new ImageData per layer per slice switch. The buffer is only reallocated when slice dimensions change (axis switch).</p><h4 id="parameters-21" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-21" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>axis</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td><td style="text-align:left;">Axis: &quot;x&quot;, &quot;y&quot;, or &quot;z&quot;</td></tr></tbody></table><h4 id="returns-54" tabindex="-1">Returns <a class="header-anchor" href="#returns-54" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>null</code> | <code>ImageData</code></p><p>Reusable ImageData buffer with correct dimensions</p><h4 id="inherited-from-38" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-38" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#getorcreateslicebuffer">getOrCreateSliceBuffer</a></p><h4 id="defined-in-86" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-86" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L434" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:434</a></p><hr><h3 id="getpencilcolor" tabindex="-1">getPencilColor <a class="header-anchor" href="#getpencilcolor" aria-label="Permalink to &quot;getPencilColor&quot;">​</a></h3><p>▸ <strong>getPencilColor</strong>(): <code>string</code></p><p>Get the current pencil stroke color.</p><h4 id="returns-55" tabindex="-1">Returns <a class="header-anchor" href="#returns-55" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-87" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-87" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L445" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:445</a></p><hr><h3 id="getrestlayer" tabindex="-1">getRestLayer <a class="header-anchor" href="#getrestlayer" aria-label="Permalink to &quot;getRestLayer&quot;">​</a></h3><p>▸ <strong>getRestLayer</strong>(): <code>string</code>[]</p><p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>layer div controls</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>*************************</p><h4 id="returns-56" tabindex="-1">Returns <a class="header-anchor" href="#returns-56" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code>[]</p><h4 id="inherited-from-39" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-39" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#getrestlayer">getRestLayer</a></p><h4 id="defined-in-88" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-88" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L860" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:860</a></p><hr><h3 id="getslidermeta" tabindex="-1">getSliderMeta <a class="header-anchor" href="#getslidermeta" aria-label="Permalink to &quot;getSliderMeta&quot;">​</a></h3><p>▸ <strong>getSliderMeta</strong>(<code>key</code>): <code>null</code> | <code>IGuiMeta</code></p><p>Get slider metadata for UI configuration.</p><h4 id="parameters-22" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-22" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>key</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Slider key: &quot;globalAlpha&quot;, &quot;brushAndEraserSize&quot;, &quot;windowHigh&quot;, &quot;windowLow&quot;</td></tr></tbody></table><h4 id="returns-57" tabindex="-1">Returns <a class="header-anchor" href="#returns-57" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>null</code> | <code>IGuiMeta</code></p><p>IGuiMeta with min, max, step, and current value</p><h4 id="defined-in-89" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-89" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L411" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:411</a></p><hr><h3 id="getspaceorigin" tabindex="-1">getSpaceOrigin <a class="header-anchor" href="#getspaceorigin" aria-label="Permalink to &quot;getSpaceOrigin&quot;">​</a></h3><p>▸ <strong>getSpaceOrigin</strong>(): <code>number</code>[]</p><h4 id="returns-58" tabindex="-1">Returns <a class="header-anchor" href="#returns-58" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code>[]</p><h4 id="defined-in-90" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-90" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1097" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1097</a></p><hr><h3 id="getvolumeforlayer" tabindex="-1">getVolumeForLayer <a class="header-anchor" href="#getvolumeforlayer" aria-label="Permalink to &quot;getVolumeForLayer&quot;">​</a></h3><p>▸ <strong>getVolumeForLayer</strong>(<code>layer</code>): <code>MaskVolume</code></p><p>Get MaskVolume for a specific layer</p><h4 id="parameters-23" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-23" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layer</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Layer name: &quot;layer1&quot;, &quot;layer2&quot;, or &quot;layer3&quot;</td></tr></tbody></table><h4 id="returns-59" tabindex="-1">Returns <a class="header-anchor" href="#returns-59" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>MaskVolume</code></p><p>MaskVolume instance for the specified layer</p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">volume</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getVolumeForLayer</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;layer1&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">volume.</span><span style="color:#B392F0;">setVoxel</span><span style="color:#E1E4E8;">(x, y, z, </span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">volume</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getVolumeForLayer</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;layer1&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">volume.</span><span style="color:#6F42C1;">setVoxel</span><span style="color:#24292E;">(x, y, z, </span><span style="color:#005CC5;">255</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="inherited-from-40" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-40" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#getvolumeforlayer">getVolumeForLayer</a></p><h4 id="defined-in-91" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-91" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L193" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:193</a></p><hr><h3 id="getvoxelspacing" tabindex="-1">getVoxelSpacing <a class="header-anchor" href="#getvoxelspacing" aria-label="Permalink to &quot;getVoxelSpacing&quot;">​</a></h3><p>▸ <strong>getVoxelSpacing</strong>(): <code>number</code>[]</p><h4 id="returns-60" tabindex="-1">Returns <a class="header-anchor" href="#returns-60" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code>[]</p><h4 id="defined-in-92" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-92" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1094" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1094</a></p><hr><h3 id="haslayerdata" tabindex="-1">hasLayerData <a class="header-anchor" href="#haslayerdata" aria-label="Permalink to &quot;hasLayerData&quot;">​</a></h3><p>▸ <strong>hasLayerData</strong>(<code>layerId</code>): <code>boolean</code></p><p>Check if a specific layer contains any non-zero mask data.</p><p>This is useful for determining if a layer has actual annotations before saving or exporting to avoid processing empty layers.</p><h4 id="parameters-24" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-24" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">The layer to check (&#39;layer1&#39;, &#39;layer2&#39;, or &#39;layer3&#39;)</td></tr></tbody></table><h4 id="returns-61" tabindex="-1">Returns <a class="header-anchor" href="#returns-61" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>boolean</code></p><p>True if the layer has any non-zero voxel data, false if empty</p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (nrrdTools.</span><span style="color:#B392F0;">hasLayerData</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;layer1&#39;</span><span style="color:#E1E4E8;">)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useSaveMasks</span><span style="color:#E1E4E8;">(caseId, </span><span style="color:#9ECBFF;">&#39;layer1&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (nrrdTools.</span><span style="color:#6F42C1;">hasLayerData</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;layer1&#39;</span><span style="color:#24292E;">)) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useSaveMasks</span><span style="color:#24292E;">(caseId, </span><span style="color:#032F62;">&#39;layer1&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="defined-in-93" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-93" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L597" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:597</a></p><hr><h3 id="init" tabindex="-1">init <a class="header-anchor" href="#init" aria-label="Permalink to &quot;init&quot;">​</a></h3><p>▸ <code>Private</code> <strong>init</strong>(): <code>void</code></p><p>A initialise function for nrrd_tools</p><h4 id="returns-62" tabindex="-1">Returns <a class="header-anchor" href="#returns-62" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-94" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-94" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L889" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:889</a></p><hr><h3 id="invalidateslicebuffer" tabindex="-1">invalidateSliceBuffer <a class="header-anchor" href="#invalidateslicebuffer" aria-label="Permalink to &quot;invalidateSliceBuffer&quot;">​</a></h3><p>▸ <strong>invalidateSliceBuffer</strong>(): <code>void</code></p><p>Invalidate the reusable buffer (e.g. when switching datasets). The buffer will be lazily recreated on next use.</p><h4 id="returns-63" tabindex="-1">Returns <a class="header-anchor" href="#returns-63" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-41" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-41" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#invalidateslicebuffer">invalidateSliceBuffer</a></p><h4 id="defined-in-95" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-95" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L523" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:523</a></p><hr><h3 id="iscalculatoractive" tabindex="-1">isCalculatorActive <a class="header-anchor" href="#iscalculatoractive" aria-label="Permalink to &quot;isCalculatorActive&quot;">​</a></h3><p>▸ <strong>isCalculatorActive</strong>(): <code>boolean</code></p><p>Check if calculator mode is active.</p><h4 id="returns-64" tabindex="-1">Returns <a class="header-anchor" href="#returns-64" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>boolean</code></p><h4 id="defined-in-96" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-96" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L321" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:321</a></p><hr><h3 id="ischannelvisible" tabindex="-1">isChannelVisible <a class="header-anchor" href="#ischannelvisible" aria-label="Permalink to &quot;isChannelVisible&quot;">​</a></h3><p>▸ <strong>isChannelVisible</strong>(<code>layerId</code>, <code>channel</code>): <code>boolean</code></p><p>Check if a specific channel within a layer is visible.</p><h4 id="parameters-25" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-25" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>ChannelValue</code></td></tr></tbody></table><h4 id="returns-65" tabindex="-1">Returns <a class="header-anchor" href="#returns-65" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>boolean</code></p><h4 id="defined-in-97" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-97" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L559" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:559</a></p><hr><h3 id="iscontrastshortcutenabled" tabindex="-1">isContrastShortcutEnabled <a class="header-anchor" href="#iscontrastshortcutenabled" aria-label="Permalink to &quot;isContrastShortcutEnabled&quot;">​</a></h3><p>▸ <strong>isContrastShortcutEnabled</strong>(): <code>boolean</code></p><p>Returns whether the contrast shortcut is currently enabled.</p><h4 id="returns-66" tabindex="-1">Returns <a class="header-anchor" href="#returns-66" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>boolean</code></p><h4 id="defined-in-98" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-98" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L829" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:829</a></p><hr><h3 id="islayervisible" tabindex="-1">isLayerVisible <a class="header-anchor" href="#islayervisible" aria-label="Permalink to &quot;isLayerVisible&quot;">​</a></h3><p>▸ <strong>isLayerVisible</strong>(<code>layerId</code>): <code>boolean</code></p><p>Check if a layer is visible.</p><h4 id="parameters-26" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-26" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="returns-67" tabindex="-1">Returns <a class="header-anchor" href="#returns-67" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>boolean</code></p><h4 id="defined-in-99" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-99" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L542" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:542</a></p><hr><h3 id="loaddisplayslicesarray" tabindex="-1">loadDisplaySlicesArray <a class="header-anchor" href="#loaddisplayslicesarray" aria-label="Permalink to &quot;loadDisplaySlicesArray&quot;">​</a></h3><p>▸ <code>Private</code> <strong>loadDisplaySlicesArray</strong>(): <code>void</code></p><h4 id="returns-68" tabindex="-1">Returns <a class="header-anchor" href="#returns-68" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-100" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-100" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1476" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1476</a></p><hr><h3 id="loadingmaskbylayer" tabindex="-1">loadingMaskByLayer <a class="header-anchor" href="#loadingmaskbylayer" aria-label="Permalink to &quot;loadingMaskByLayer&quot;">​</a></h3><p>▸ <code>Private</code> <strong>loadingMaskByLayer</strong>(<code>masks</code>, <code>index</code>, <code>imageData</code>): <code>ImageData</code></p><h4 id="parameters-27" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-27" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>masks</code></td><td style="text-align:left;"><code>exportPaintImageType</code>[]</td></tr><tr><td style="text-align:left;"><code>index</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>imageData</code></td><td style="text-align:left;"><code>ImageData</code></td></tr></tbody></table><h4 id="returns-69" tabindex="-1">Returns <a class="header-anchor" href="#returns-69" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>ImageData</code></p><h4 id="defined-in-101" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-101" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L974" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:974</a></p><hr><h3 id="redo" tabindex="-1">redo <a class="header-anchor" href="#redo" aria-label="Permalink to &quot;redo&quot;">​</a></h3><p>▸ <strong>redo</strong>(): <code>void</code></p><p>Programmatically trigger a redo operation.</p><p>Equivalent to pressing Ctrl+Y. Re-applies the most recently undone drawing stroke on the currently active layer and syncs the result to the backend via the <code>getMask</code> callback.</p><h4 id="returns-70" tabindex="-1">Returns <a class="header-anchor" href="#returns-70" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">redoBtn.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;click&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> nrrdTools.</span><span style="color:#B392F0;">redo</span><span style="color:#E1E4E8;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">redoBtn.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;click&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> nrrdTools.</span><span style="color:#6F42C1;">redo</span><span style="color:#24292E;">());</span></span></code></pre></div><h4 id="defined-in-102" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-102" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L767" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:767</a></p><hr><h3 id="redolastpainting" tabindex="-1">redoLastPainting <a class="header-anchor" href="#redolastpainting" aria-label="Permalink to &quot;redoLastPainting&quot;">​</a></h3><p>▸ <strong>redoLastPainting</strong>(): <code>void</code></p><p>Redo the last undone operation on the active layer. Reapplies the MaskVolume slice to its post-draw state, re-renders the canvas, and notifies the backend.</p><h4 id="returns-71" tabindex="-1">Returns <a class="header-anchor" href="#returns-71" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-42" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-42" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#redolastpainting">redoLastPainting</a></p><h4 id="defined-in-103" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-103" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L989" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:989</a></p><hr><h3 id="redrawdisplaycanvas" tabindex="-1">redrawDisplayCanvas <a class="header-anchor" href="#redrawdisplaycanvas" aria-label="Permalink to &quot;redrawDisplayCanvas&quot;">​</a></h3><p>▸ <strong>redrawDisplayCanvas</strong>(): <code>void</code></p><p>Redraw current contrast image to display canvas. It is more related to change the contrast slice image&#39;s window width or center.</p><h4 id="returns-72" tabindex="-1">Returns <a class="header-anchor" href="#returns-72" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-7" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-7" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#redrawdisplaycanvas">redrawDisplayCanvas</a></p><h4 id="defined-in-104" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-104" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1936" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1936</a></p><hr><h3 id="redrawmianpreondisplaycanvas" tabindex="-1">redrawMianPreOnDisplayCanvas <a class="header-anchor" href="#redrawmianpreondisplaycanvas" aria-label="Permalink to &quot;redrawMianPreOnDisplayCanvas&quot;">​</a></h3><p>▸ <strong>redrawMianPreOnDisplayCanvas</strong>(): <code>void</code></p><h4 id="returns-73" tabindex="-1">Returns <a class="header-anchor" href="#returns-73" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-105" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-105" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1743" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1743</a></p><hr><h3 id="refreshsphereoverlay" tabindex="-1">refreshSphereOverlay <a class="header-anchor" href="#refreshsphereoverlay" aria-label="Permalink to &quot;refreshSphereOverlay&quot;">​</a></h3><p>▸ <strong>refreshSphereOverlay</strong>(): <code>void</code></p><p>Refresh sphere canvas from sphereMaskVolume for the current slice/axis. Called after view changes (slice switch, zoom, contrast, axis switch).</p><h4 id="returns-74" tabindex="-1">Returns <a class="header-anchor" href="#returns-74" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-43" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-43" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#refreshsphereoverlay">refreshSphereOverlay</a></p><h4 id="defined-in-106" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-106" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L834" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:834</a></p><hr><h3 id="reloadmasksfromvolume" tabindex="-1">reloadMasksFromVolume <a class="header-anchor" href="#reloadmasksfromvolume" aria-label="Permalink to &quot;reloadMasksFromVolume&quot;">​</a></h3><p>▸ <code>Private</code> <strong>reloadMasksFromVolume</strong>(): <code>void</code></p><p>Phase 3: Reload all mask layers from MaskVolume using buffer reuse Replaces the old reloadMaskToLayer approach</p><h4 id="returns-75" tabindex="-1">Returns <a class="header-anchor" href="#returns-75" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-107" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-107" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1825" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1825</a></p><hr><h3 id="removecontrastdragmode" tabindex="-1">removeContrastDragMode <a class="header-anchor" href="#removecontrastdragmode" aria-label="Permalink to &quot;removeContrastDragMode&quot;">​</a></h3><p>▸ <strong>removeContrastDragMode</strong>(): <code>void</code></p><h4 id="returns-76" tabindex="-1">Returns <a class="header-anchor" href="#returns-76" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-44" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-44" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#removecontrastdragmode">removeContrastDragMode</a></p><h4 id="defined-in-108" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-108" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L1065" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:1065</a></p><hr><h3 id="removeskip" tabindex="-1">removeSkip <a class="header-anchor" href="#removeskip" aria-label="Permalink to &quot;removeSkip&quot;">​</a></h3><p>▸ <strong>removeSkip</strong>(<code>index</code>): <code>void</code></p><h4 id="parameters-28" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-28" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>index</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-77" tabindex="-1">Returns <a class="header-anchor" href="#returns-77" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-109" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-109" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1314" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1314</a></p><hr><h3 id="renderslicetocanvas" tabindex="-1">renderSliceToCanvas <a class="header-anchor" href="#renderslicetocanvas" aria-label="Permalink to &quot;renderSliceToCanvas&quot;">​</a></h3><p>▸ <strong>renderSliceToCanvas</strong>(<code>layer</code>, <code>axis</code>, <code>sliceIndex</code>, <code>buffer</code>, <code>targetCtx</code>, <code>scaledWidth</code>, <code>scaledHeight</code>): <code>void</code></p><p>Render a layer&#39;s slice into a reusable buffer and draw to the target canvas.</p><p>Uses MaskVolume.renderLabelSliceInto() for zero-allocation rendering. The caller should obtain the buffer via getOrCreateSliceBuffer() and reuse it across multiple layer renders.</p><h4 id="parameters-29" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-29" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layer</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Layer name: &quot;layer1&quot;, &quot;layer2&quot;, or &quot;layer3&quot;</td></tr><tr><td style="text-align:left;"><code>axis</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td><td style="text-align:left;">Axis: &quot;x&quot;, &quot;y&quot;, or &quot;z&quot;</td></tr><tr><td style="text-align:left;"><code>sliceIndex</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Slice index</td></tr><tr><td style="text-align:left;"><code>buffer</code></td><td style="text-align:left;"><code>ImageData</code></td><td style="text-align:left;">Reusable ImageData buffer (from getOrCreateSliceBuffer)</td></tr><tr><td style="text-align:left;"><code>targetCtx</code></td><td style="text-align:left;"><code>CanvasRenderingContext2D</code></td><td style="text-align:left;">Canvas context to draw the result onto</td></tr><tr><td style="text-align:left;"><code>scaledWidth</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Target display width</td></tr><tr><td style="text-align:left;"><code>scaledHeight</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Target display height</td></tr></tbody></table><h4 id="returns-78" tabindex="-1">Returns <a class="header-anchor" href="#returns-78" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-45" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-45" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#renderslicetocanvas">renderSliceToCanvas</a></p><h4 id="defined-in-110" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-110" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/CommToolsData.ts#L476" target="_blank" rel="noreferrer">src/Utils/segmentation/CommToolsData.ts:476</a></p><hr><h3 id="repraintcurrentcontrastslice" tabindex="-1">repraintCurrentContrastSlice <a class="header-anchor" href="#repraintcurrentcontrastslice" aria-label="Permalink to &quot;repraintCurrentContrastSlice&quot;">​</a></h3><p>▸ <strong>repraintCurrentContrastSlice</strong>(): <code>void</code></p><h4 id="returns-79" tabindex="-1">Returns <a class="header-anchor" href="#returns-79" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-46" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-46" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#repraintcurrentcontrastslice">repraintCurrentContrastSlice</a></p><h4 id="defined-in-111" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-111" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L1073" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:1073</a></p><hr><h3 id="reset" tabindex="-1">reset <a class="header-anchor" href="#reset" aria-label="Permalink to &quot;reset&quot;">​</a></h3><p>▸ <strong>reset</strong>(): <code>void</code></p><p>Reset the entire NrrdTools instance comprehensively. This clears ALL data across ALL layers globally, resets the Canvas visuals, undo/redo history, volume models, index parameters, and sphere overlays. Primarily used when switching cases/datasets or when a completely fresh state is needed. It is heavier than <code>clearActiveLayer</code> or <code>clearActiveSlice</code>.</p><h4 id="returns-80" tabindex="-1">Returns <a class="header-anchor" href="#returns-80" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-112" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-112" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1327" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1327</a></p><hr><h3 id="resetchannelcolors" tabindex="-1">resetChannelColors <a class="header-anchor" href="#resetchannelcolors" aria-label="Permalink to &quot;resetChannelColors&quot;">​</a></h3><p>▸ <strong>resetChannelColors</strong>(<code>layerId?</code>, <code>channel?</code>): <code>void</code></p><p>Reset channel colors to system defaults.</p><h4 id="parameters-30" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-30" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Optional. If omitted, resets all layers.</td></tr><tr><td style="text-align:left;"><code>channel?</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Optional. If omitted, resets all channels in the layer(s).</td></tr></tbody></table><h4 id="returns-81" tabindex="-1">Returns <a class="header-anchor" href="#returns-81" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">resetChannelColors</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;layer2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">);  </span><span style="color:#6A737D;">// Reset only ch2 in layer2</span></span>
<span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">resetChannelColors</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;layer2&#39;</span><span style="color:#E1E4E8;">);       </span><span style="color:#6A737D;">// Reset all channels in layer2</span></span>
<span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">resetChannelColors</span><span style="color:#E1E4E8;">();               </span><span style="color:#6A737D;">// Reset all layers</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">resetChannelColors</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;layer2&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">);  </span><span style="color:#6A737D;">// Reset only ch2 in layer2</span></span>
<span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">resetChannelColors</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;layer2&#39;</span><span style="color:#24292E;">);       </span><span style="color:#6A737D;">// Reset all channels in layer2</span></span>
<span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">resetChannelColors</span><span style="color:#24292E;">();               </span><span style="color:#6A737D;">// Reset all layers</span></span></code></pre></div><h4 id="defined-in-113" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-113" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L725" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:725</a></p><hr><h3 id="resetdisplayslicesstatus" tabindex="-1">resetDisplaySlicesStatus <a class="header-anchor" href="#resetdisplayslicesstatus" aria-label="Permalink to &quot;resetDisplaySlicesStatus&quot;">​</a></h3><p>▸ <code>Private</code> <strong>resetDisplaySlicesStatus</strong>(): <code>void</code></p><h4 id="returns-82" tabindex="-1">Returns <a class="header-anchor" href="#returns-82" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-114" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-114" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1503" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1503</a></p><hr><h3 id="resetlayercanvas" tabindex="-1">resetLayerCanvas <a class="header-anchor" href="#resetlayercanvas" aria-label="Permalink to &quot;resetLayerCanvas&quot;">​</a></h3><p>▸ <strong>resetLayerCanvas</strong>(): <code>void</code></p><p>Clear masks on drawingCanvas layers.</p><h4 id="returns-83" tabindex="-1">Returns <a class="header-anchor" href="#returns-83" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-8" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-8" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#resetlayercanvas">resetLayerCanvas</a></p><h4 id="defined-in-115" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-115" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1674" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1674</a></p><hr><h3 id="resetpaintareauiposition" tabindex="-1">resetPaintAreaUIPosition <a class="header-anchor" href="#resetpaintareauiposition" aria-label="Permalink to &quot;resetPaintAreaUIPosition&quot;">​</a></h3><p>▸ <strong>resetPaintAreaUIPosition</strong>(<code>l?</code>, <code>t?</code>): <code>void</code></p><p>Reset the draw and display canvases layout after mouse pan. If no params in, then center the draw and display canvases.</p><h4 id="parameters-31" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-31" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>l?</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">number, Offset to the left</td></tr><tr><td style="text-align:left;"><code>t?</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">number, Offset to the top</td></tr></tbody></table><h4 id="returns-84" tabindex="-1">Returns <a class="header-anchor" href="#returns-84" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-9" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-9" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#resetpaintareauiposition">resetPaintAreaUIPosition</a></p><h4 id="defined-in-116" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-116" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1654" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1654</a></p><hr><h3 id="resizepaintarea" tabindex="-1">resizePaintArea <a class="header-anchor" href="#resizepaintarea" aria-label="Permalink to &quot;resizePaintArea&quot;">​</a></h3><p>▸ <strong>resizePaintArea</strong>(<code>factor</code>): <code>void</code></p><p>Resize the draw and display canvas size based on the input size factor number.</p><h4 id="parameters-32" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-32" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>factor</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">number</td></tr></tbody></table><h4 id="returns-85" tabindex="-1">Returns <a class="header-anchor" href="#returns-85" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-10" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-10" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#resizepaintarea">resizePaintArea</a></p><h4 id="defined-in-117" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-117" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1771" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1771</a></p><hr><h3 id="setactivechannel" tabindex="-1">setActiveChannel <a class="header-anchor" href="#setactivechannel" aria-label="Permalink to &quot;setActiveChannel&quot;">​</a></h3><p>▸ <strong>setActiveChannel</strong>(<code>channel</code>): <code>void</code></p><p>Set the active channel (1-8) and update fillColor/brushColor.</p><h4 id="parameters-33" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-33" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>ChannelValue</code></td></tr></tbody></table><h4 id="returns-86" tabindex="-1">Returns <a class="header-anchor" href="#returns-86" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-118" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-118" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L214" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:214</a></p><hr><h3 id="setactivelayer" tabindex="-1">setActiveLayer <a class="header-anchor" href="#setactivelayer" aria-label="Permalink to &quot;setActiveLayer&quot;">​</a></h3><p>▸ <strong>setActiveLayer</strong>(<code>layerId</code>): <code>void</code></p><p>Set the active layer and update fillColor/brushColor to match the active channel.</p><h4 id="parameters-34" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-34" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="returns-87" tabindex="-1">Returns <a class="header-anchor" href="#returns-87" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-119" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-119" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L206" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:206</a></p><hr><h3 id="setactivespheretype" tabindex="-1">setActiveSphereType <a class="header-anchor" href="#setactivespheretype" aria-label="Permalink to &quot;setActiveSphereType&quot;">​</a></h3><p>▸ <strong>setActiveSphereType</strong>(<code>type</code>): <code>void</code></p><p>Set the active sphere type for the SphereTool. Replaces direct mutation of <code>gui_states.activeSphereType</code>.</p><h4 id="parameters-35" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-35" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>type</code></td><td style="text-align:left;"><code>SphereType</code></td></tr></tbody></table><h4 id="returns-88" tabindex="-1">Returns <a class="header-anchor" href="#returns-88" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">setActiveSphereType</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;nipple&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">setActiveSphereType</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;nipple&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="defined-in-120" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-120" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L228" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:228</a></p><hr><h3 id="setalllayerschannelcolor" tabindex="-1">setAllLayersChannelColor <a class="header-anchor" href="#setalllayerschannelcolor" aria-label="Permalink to &quot;setAllLayersChannelColor&quot;">​</a></h3><p>▸ <strong>setAllLayersChannelColor</strong>(<code>channel</code>, <code>color</code>): <code>void</code></p><p>Set the same color for a specific channel across ALL layers (single re-render).</p><h4 id="parameters-36" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-36" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Channel label (1-8)</td></tr><tr><td style="text-align:left;"><code>color</code></td><td style="text-align:left;"><code>RGBAColor</code></td><td style="text-align:left;">RGBAColor object</td></tr></tbody></table><h4 id="returns-89" tabindex="-1">Returns <a class="header-anchor" href="#returns-89" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-121" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-121" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L699" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:699</a></p><hr><h3 id="setallslices" tabindex="-1">setAllSlices <a class="header-anchor" href="#setallslices" aria-label="Permalink to &quot;setAllSlices&quot;">​</a></h3><p>▸ <strong>setAllSlices</strong>(<code>allSlices</code>): <code>void</code></p><p>entry function</p><ul><li>{ x:slice, y:slice, z:slice }</li></ul><h4 id="parameters-37" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-37" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>allSlices</code></td><td style="text-align:left;"><code>nrrdSliceType</code>[]</td><td style="text-align:left;">all nrrd contrast slices</td></tr></tbody></table><h4 id="returns-90" tabindex="-1">Returns <a class="header-anchor" href="#returns-90" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-122" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-122" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L911" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:911</a></p><hr><h3 id="setbasedrawdisplaycanvasessize" tabindex="-1">setBaseDrawDisplayCanvasesSize <a class="header-anchor" href="#setbasedrawdisplaycanvasessize" aria-label="Permalink to &quot;setBaseDrawDisplayCanvasesSize&quot;">​</a></h3><p>▸ <strong>setBaseDrawDisplayCanvasesSize</strong>(<code>size</code>): <code>void</code></p><p>Set the Draw Display Canvas base size</p><h4 id="parameters-38" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-38" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>size</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">number</td></tr></tbody></table><h4 id="returns-91" tabindex="-1">Returns <a class="header-anchor" href="#returns-91" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-123" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-123" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L110" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:110</a></p><hr><h3 id="setbrushsize" tabindex="-1">setBrushSize <a class="header-anchor" href="#setbrushsize" aria-label="Permalink to &quot;setBrushSize&quot;">​</a></h3><p>▸ <strong>setBrushSize</strong>(<code>size</code>): <code>void</code></p><p>Set brush and eraser size, and trigger cursor update.</p><h4 id="parameters-39" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-39" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>size</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Brush size [5, 50]</td></tr></tbody></table><h4 id="returns-92" tabindex="-1">Returns <a class="header-anchor" href="#returns-92" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-124" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-124" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L346" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:346</a></p><hr><h3 id="setcalculatedistancesphere" tabindex="-1">setCalculateDistanceSphere <a class="header-anchor" href="#setcalculatedistancesphere" aria-label="Permalink to &quot;setCalculateDistanceSphere&quot;">​</a></h3><p>▸ <strong>setCalculateDistanceSphere</strong>(<code>x</code>, <code>y</code>, <code>sliceIndex</code>, <code>cal_position</code>): <code>void</code></p><p>Programmatically place a calculator sphere at the given position.</p><p>Replicates the full mouse-down → mouse-up flow (handleSphereClick + pointerup) so that backend-supplied sphere data is stored identically to a manual click.</p><h4 id="parameters-40" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-40" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>x</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">X coordinate in unscaled (original) image space</td></tr><tr><td style="text-align:left;"><code>y</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Y coordinate in unscaled (original) image space</td></tr><tr><td style="text-align:left;"><code>sliceIndex</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Target slice index (z-axis)</td></tr><tr><td style="text-align:left;"><code>cal_position</code></td><td style="text-align:left;"><code>&quot;tumour&quot;</code> | <code>&quot;skin&quot;</code> | <code>&quot;nipple&quot;</code> | <code>&quot;ribcage&quot;</code></td><td style="text-align:left;">Sphere type to place</td></tr></tbody></table><h4 id="returns-93" tabindex="-1">Returns <a class="header-anchor" href="#returns-93" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-125" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-125" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1115" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1115</a></p><hr><h3 id="setchannelcolor" tabindex="-1">setChannelColor <a class="header-anchor" href="#setchannelcolor" aria-label="Permalink to &quot;setChannelColor&quot;">​</a></h3><p>▸ <strong>setChannelColor</strong>(<code>layerId</code>, <code>channel</code>, <code>color</code>): <code>void</code></p><p>Set a custom color for a specific channel in a specific layer. Only affects this layer; other layers remain unchanged.</p><h4 id="parameters-41" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-41" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Layer to customize (e.g. &#39;layer1&#39;, &#39;layer2&#39;)</td></tr><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Channel label (1-8)</td></tr><tr><td style="text-align:left;"><code>color</code></td><td style="text-align:left;"><code>RGBAColor</code></td><td style="text-align:left;">RGBAColor object { r, g, b, a } (each 0-255)</td></tr></tbody></table><h4 id="returns-94" tabindex="-1">Returns <a class="header-anchor" href="#returns-94" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// Make channel 2 in layer2 orange</span></span>
<span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">setChannelColor</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;layer2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, { r: </span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;">, g: </span><span style="color:#79B8FF;">128</span><span style="color:#E1E4E8;">, b: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, a: </span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;"> });</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// Make channel 2 in layer2 orange</span></span>
<span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">setChannelColor</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;layer2&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, { r: </span><span style="color:#005CC5;">255</span><span style="color:#24292E;">, g: </span><span style="color:#005CC5;">128</span><span style="color:#24292E;">, b: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, a: </span><span style="color:#005CC5;">255</span><span style="color:#24292E;"> });</span></span></code></pre></div><h4 id="defined-in-126" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-126" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L621" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:621</a></p><hr><h3 id="setchannelcolors" tabindex="-1">setChannelColors <a class="header-anchor" href="#setchannelcolors" aria-label="Permalink to &quot;setChannelColors&quot;">​</a></h3><p>▸ <strong>setChannelColors</strong>(<code>layerId</code>, <code>colorMap</code>): <code>void</code></p><p>Batch-set multiple channel colors for a single layer (single re-render).</p><h4 id="parameters-42" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-42" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Layer to customize</td></tr><tr><td style="text-align:left;"><code>colorMap</code></td><td style="text-align:left;"><code>Partial</code>&lt;<code>ChannelColorMap</code>&gt;</td><td style="text-align:left;">Partial map of channel -&gt; RGBAColor</td></tr></tbody></table><h4 id="returns-95" tabindex="-1">Returns <a class="header-anchor" href="#returns-95" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">setChannelColors</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;layer2&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">: { r: </span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;">, g: </span><span style="color:#79B8FF;">128</span><span style="color:#E1E4E8;">, b: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, a: </span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">: { r: </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">, g: </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">, b: </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">, a: </span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">setChannelColors</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;layer2&#39;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">: { r: </span><span style="color:#005CC5;">255</span><span style="color:#24292E;">, g: </span><span style="color:#005CC5;">128</span><span style="color:#24292E;">, b: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, a: </span><span style="color:#005CC5;">255</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">: { r: </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">, g: </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">, b: </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">, a: </span><span style="color:#005CC5;">255</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h4 id="defined-in-127" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-127" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L678" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:678</a></p><hr><h3 id="setchannelvisible" tabindex="-1">setChannelVisible <a class="header-anchor" href="#setchannelvisible" aria-label="Permalink to &quot;setChannelVisible&quot;">​</a></h3><p>▸ <strong>setChannelVisible</strong>(<code>layerId</code>, <code>channel</code>, <code>visible</code>): <code>void</code></p><p>Set visibility of a specific channel within a layer and re-render.</p><h4 id="parameters-43" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-43" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>channel</code></td><td style="text-align:left;"><code>ChannelValue</code></td></tr><tr><td style="text-align:left;"><code>visible</code></td><td style="text-align:left;"><code>boolean</code></td></tr></tbody></table><h4 id="returns-96" tabindex="-1">Returns <a class="header-anchor" href="#returns-96" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-128" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-128" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L549" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:549</a></p><hr><h3 id="setcontrastshortcutenabled" tabindex="-1">setContrastShortcutEnabled <a class="header-anchor" href="#setcontrastshortcutenabled" aria-label="Permalink to &quot;setContrastShortcutEnabled&quot;">​</a></h3><p>▸ <strong>setContrastShortcutEnabled</strong>(<code>enabled</code>): <code>void</code></p><p>Enable or disable the contrast window/level shortcut (Ctrl/Meta key).</p><p>When disabled:</p><ul><li>Holding Ctrl no longer enters contrast mode</li><li>If contrast mode is currently active it is immediately exited</li><li>All other Ctrl-based shortcuts (Ctrl+Z undo, Ctrl+Y redo) are unaffected because they are checked in the keydown handler before the contrast guard runs</li></ul><h4 id="parameters-44" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-44" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>enabled</code></td><td style="text-align:left;"><code>boolean</code></td><td style="text-align:left;">Pass <code>false</code> to disable, <code>true</code> to re-enable.</td></tr></tbody></table><h4 id="returns-97" tabindex="-1">Returns <a class="header-anchor" href="#returns-97" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// Disable contrast when sphere tool is active</span></span>
<span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">setContrastShortcutEnabled</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Re-enable when returning to draw mode</span></span>
<span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">setContrastShortcutEnabled</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// Disable contrast when sphere tool is active</span></span>
<span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">setContrastShortcutEnabled</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Re-enable when returning to draw mode</span></span>
<span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">setContrastShortcutEnabled</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="defined-in-129" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-129" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L822" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:822</a></p><hr><h3 id="setdisplaysliceindexpanel" tabindex="-1">setDisplaySliceIndexPanel <a class="header-anchor" href="#setdisplaysliceindexpanel" aria-label="Permalink to &quot;setDisplaySliceIndexPanel&quot;">​</a></h3><p>▸ <strong>setDisplaySliceIndexPanel</strong>(<code>panel</code>): <code>void</code></p><h4 id="parameters-45" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-45" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>panel</code></td><td style="text-align:left;"><code>HTMLDivElement</code></td></tr></tbody></table><h4 id="returns-98" tabindex="-1">Returns <a class="header-anchor" href="#returns-98" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-130" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-130" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L120" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:120</a></p><hr><h3 id="setdisplayslicesbaseonaxis" tabindex="-1">setDisplaySlicesBaseOnAxis <a class="header-anchor" href="#setdisplayslicesbaseonaxis" aria-label="Permalink to &quot;setDisplaySlicesBaseOnAxis&quot;">​</a></h3><p>▸ <code>Private</code> <strong>setDisplaySlicesBaseOnAxis</strong>(): <code>void</code></p><h4 id="returns-99" tabindex="-1">Returns <a class="header-anchor" href="#returns-99" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-131" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-131" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1463" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1463</a></p><hr><h3 id="setemptycanvassize" tabindex="-1">setEmptyCanvasSize <a class="header-anchor" href="#setemptycanvassize" aria-label="Permalink to &quot;setEmptyCanvasSize&quot;">​</a></h3><p>▸ <strong>setEmptyCanvasSize</strong>(<code>axis?</code>): <code>void</code></p><p>Set the empty canvas width and height based on the axis (pixel distance not the mm), to reduce duplicate codes.</p><h4 id="parameters-46" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-46" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>axis?</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td></tr></tbody></table><h4 id="returns-100" tabindex="-1">Returns <a class="header-anchor" href="#returns-100" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-11" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-11" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#setemptycanvassize">setEmptyCanvasSize</a></p><h4 id="defined-in-132" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-132" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1907" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1907</a></p><hr><h3 id="seteraserurls" tabindex="-1">setEraserUrls <a class="header-anchor" href="#seteraserurls" aria-label="Permalink to &quot;setEraserUrls&quot;">​</a></h3><p>▸ <strong>setEraserUrls</strong>(<code>urls</code>): <code>void</code></p><h4 id="parameters-47" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-47" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>urls</code></td><td style="text-align:left;"><code>string</code>[]</td></tr></tbody></table><h4 id="returns-101" tabindex="-1">Returns <a class="header-anchor" href="#returns-101" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-47" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-47" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#seteraserurls">setEraserUrls</a></p><h4 id="defined-in-133" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-133" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L247" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:247</a></p><hr><h3 id="setisdrawfalse" tabindex="-1">setIsDrawFalse <a class="header-anchor" href="#setisdrawfalse" aria-label="Permalink to &quot;setIsDrawFalse&quot;">​</a></h3><p>▸ <strong>setIsDrawFalse</strong>(<code>target</code>): <code>void</code></p><p>Give a delay time to finish the last drawing before upcoming interrupt opreations. Give a delay time number (ms) to disable the draw function, After your interrupt opeartion, you should enable the draw fucntion.</p><h4 id="parameters-48" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-48" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>target</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">number</td></tr></tbody></table><h4 id="returns-102" tabindex="-1">Returns <a class="header-anchor" href="#returns-102" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-12" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-12" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#setisdrawfalse">setIsDrawFalse</a></p><h4 id="defined-in-134" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-134" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1453" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1453</a></p><hr><h3 id="setkeyboardsettings" tabindex="-1">setKeyboardSettings <a class="header-anchor" href="#setkeyboardsettings" aria-label="Permalink to &quot;setKeyboardSettings&quot;">​</a></h3><p>▸ <strong>setKeyboardSettings</strong>(<code>settings</code>): <code>void</code></p><p>Update keyboard shortcut bindings.</p><p>Synchronises both the internal class field (read by every keydown handler) and the EventRouter&#39;s internal copy (used for modifier-key mode tracking) so the two never drift apart. If <code>mouseWheel</code> is changed the wheel event listener is automatically re-bound via <a href="./Utils_segmentation_NrrdTools.NrrdTools.html#updatemousewheelevent">updateMouseWheelEvent</a>.</p><p>Only the fields you supply are updated; omitted fields keep their current values.</p><h4 id="parameters-49" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-49" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>settings</code></td><td style="text-align:left;"><code>Partial</code>&lt;<code>IKeyBoardSettings</code>&gt;</td><td style="text-align:left;">Partial keyboard settings to override.</td></tr></tbody></table><h4 id="returns-103" tabindex="-1">Returns <a class="header-anchor" href="#returns-103" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">nrrdTools.</span><span style="color:#B392F0;">setKeyboardSettings</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  undo: </span><span style="color:#9ECBFF;">&#39;z&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  redo: </span><span style="color:#9ECBFF;">&#39;y&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  crosshair: </span><span style="color:#9ECBFF;">&#39;c&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  mouseWheel: </span><span style="color:#9ECBFF;">&#39;Scroll:Slice&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">nrrdTools.</span><span style="color:#6F42C1;">setKeyboardSettings</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  undo: </span><span style="color:#032F62;">&#39;z&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  redo: </span><span style="color:#032F62;">&#39;y&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  crosshair: </span><span style="color:#032F62;">&#39;c&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  mouseWheel: </span><span style="color:#032F62;">&#39;Scroll:Slice&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h4 id="defined-in-135" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-135" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L856" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:856</a></p><hr><h3 id="setlayervisible" tabindex="-1">setLayerVisible <a class="header-anchor" href="#setlayervisible" aria-label="Permalink to &quot;setLayerVisible&quot;">​</a></h3><p>▸ <strong>setLayerVisible</strong>(<code>layerId</code>, <code>visible</code>): <code>void</code></p><p>Set visibility of a layer and re-render.</p><h4 id="parameters-50" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-50" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerId</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>visible</code></td><td style="text-align:left;"><code>boolean</code></td></tr></tbody></table><h4 id="returns-104" tabindex="-1">Returns <a class="header-anchor" href="#returns-104" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-136" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-136" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L534" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:534</a></p><hr><h3 id="setmainareasize" tabindex="-1">setMainAreaSize <a class="header-anchor" href="#setmainareasize" aria-label="Permalink to &quot;setMainAreaSize&quot;">​</a></h3><p>▸ <strong>setMainAreaSize</strong>(<code>factor</code>): <code>void</code></p><h4 id="parameters-51" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-51" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>factor</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-105" tabindex="-1">Returns <a class="header-anchor" href="#returns-105" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-137" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-137" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1397" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1397</a></p><hr><h3 id="setmainpreslice" tabindex="-1">setMainPreSlice <a class="header-anchor" href="#setmainpreslice" aria-label="Permalink to &quot;setMainPreSlice&quot;">​</a></h3><p>▸ <code>Private</code> <strong>setMainPreSlice</strong>(): <code>void</code></p><h4 id="returns-106" tabindex="-1">Returns <a class="header-anchor" href="#returns-106" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-138" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-138" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1531" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1531</a></p><hr><h3 id="setmasksdata" tabindex="-1">setMasksData <a class="header-anchor" href="#setmasksdata" aria-label="Permalink to &quot;setMasksData&quot;">​</a></h3><p>▸ <strong>setMasksData</strong>(<code>masksData</code>, <code>loadingBar?</code>): <code>void</code></p><h4 id="parameters-52" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-52" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>masksData</code></td><td style="text-align:left;"><code>storeExportPaintImageType</code></td></tr><tr><td style="text-align:left;"><code>loadingBar?</code></td><td style="text-align:left;"><code>loadingBarType</code></td></tr></tbody></table><h4 id="returns-107" tabindex="-1">Returns <a class="header-anchor" href="#returns-107" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-139" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-139" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L992" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:992</a></p><hr><h3 id="setmasksfromnifti" tabindex="-1">setMasksFromNIfTI <a class="header-anchor" href="#setmasksfromnifti" aria-label="Permalink to &quot;setMasksFromNIfTI&quot;">​</a></h3><p>▸ <strong>setMasksFromNIfTI</strong>(<code>layerVoxels</code>, <code>loadingBar?</code>): <code>void</code></p><p>Load raw voxel data into MaskVolume layers.</p><p>Expects pre-extracted voxel bytes (e.g. from useNiftiVoxelData).</p><h4 id="parameters-53" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-53" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>layerVoxels</code></td><td style="text-align:left;"><code>Map</code>&lt;<code>string</code>, <code>Uint8Array</code>&gt;</td><td style="text-align:left;">Map of layer ID to raw voxel Uint8Array Keys should be &#39;layer1&#39;, &#39;layer2&#39;, &#39;layer3&#39;</td></tr><tr><td style="text-align:left;"><code>loadingBar?</code></td><td style="text-align:left;"><code>loadingBarType</code></td><td style="text-align:left;">Optional loading bar UI</td></tr></tbody></table><h4 id="returns-108" tabindex="-1">Returns <a class="header-anchor" href="#returns-108" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-140" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-140" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1043" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1043</a></p><hr><h3 id="setmode" tabindex="-1">setMode <a class="header-anchor" href="#setmode" aria-label="Permalink to &quot;setMode&quot;">​</a></h3><p>▸ <strong>setMode</strong>(<code>mode</code>): <code>void</code></p><p>Set the current tool mode. Handles deactivation of the previous mode and activation of the new mode, including all gui.ts side-effects.</p><p>Replaces direct mutation of <code>guiSettings.value.guiState[&quot;pencil&quot;]</code> etc. from Vue components.</p><h4 id="parameters-54" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-54" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>mode</code></td><td style="text-align:left;"><code>ToolMode</code></td></tr></tbody></table><h4 id="returns-109" tabindex="-1">Returns <a class="header-anchor" href="#returns-109" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-141" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-141" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L258" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:258</a></p><hr><h3 id="setopacity" tabindex="-1">setOpacity <a class="header-anchor" href="#setopacity" aria-label="Permalink to &quot;setOpacity&quot;">​</a></h3><p>▸ <strong>setOpacity</strong>(<code>value</code>): <code>void</code></p><p>Set mask overlay opacity.</p><h4 id="parameters-55" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-55" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>value</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Opacity value [0.1, 1]</td></tr></tbody></table><h4 id="returns-110" tabindex="-1">Returns <a class="header-anchor" href="#returns-110" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-142" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-142" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L331" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:331</a></p><hr><h3 id="setorigincanvasandpre" tabindex="-1">setOriginCanvasAndPre <a class="header-anchor" href="#setorigincanvasandpre" aria-label="Permalink to &quot;setOriginCanvasAndPre&quot;">​</a></h3><p>▸ <code>Private</code> <strong>setOriginCanvasAndPre</strong>(): <code>void</code></p><h4 id="returns-111" tabindex="-1">Returns <a class="header-anchor" href="#returns-111" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-143" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-143" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1538" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1538</a></p><hr><h3 id="setpencilcolor" tabindex="-1">setPencilColor <a class="header-anchor" href="#setpencilcolor" aria-label="Permalink to &quot;setPencilColor&quot;">​</a></h3><p>▸ <strong>setPencilColor</strong>(<code>hex</code>): <code>void</code></p><p>Set the pencil stroke color.</p><h4 id="parameters-56" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-56" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>hex</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="returns-112" tabindex="-1">Returns <a class="header-anchor" href="#returns-112" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-144" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-144" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L438" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:438</a></p><hr><h3 id="setpenciliconurls" tabindex="-1">setPencilIconUrls <a class="header-anchor" href="#setpenciliconurls" aria-label="Permalink to &quot;setPencilIconUrls&quot;">​</a></h3><p>▸ <strong>setPencilIconUrls</strong>(<code>urls</code>): <code>void</code></p><h4 id="parameters-57" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-57" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>urls</code></td><td style="text-align:left;"><code>string</code>[]</td></tr></tbody></table><h4 id="returns-113" tabindex="-1">Returns <a class="header-anchor" href="#returns-113" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-48" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-48" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#setpenciliconurls">setPencilIconUrls</a></p><h4 id="defined-in-145" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-145" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L250" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:250</a></p><hr><h3 id="setshowinmainarea" tabindex="-1">setShowInMainArea <a class="header-anchor" href="#setshowinmainarea" aria-label="Permalink to &quot;setShowInMainArea&quot;">​</a></h3><p>▸ <code>Private</code> <strong>setShowInMainArea</strong>(): <code>void</code></p><h4 id="returns-114" tabindex="-1">Returns <a class="header-anchor" href="#returns-114" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-146" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-146" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1086" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1086</a></p><hr><h3 id="setslicemoving" tabindex="-1">setSliceMoving <a class="header-anchor" href="#setslicemoving" aria-label="Permalink to &quot;setSliceMoving&quot;">​</a></h3><p>▸ <strong>setSliceMoving</strong>(<code>step</code>): <code>void</code></p><h4 id="parameters-58" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-58" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>step</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-115" tabindex="-1">Returns <a class="header-anchor" href="#returns-115" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-147" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-147" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1376" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1376</a></p><hr><h3 id="setsliceorientation" tabindex="-1">setSliceOrientation <a class="header-anchor" href="#setsliceorientation" aria-label="Permalink to &quot;setSliceOrientation&quot;">​</a></h3><p>▸ <strong>setSliceOrientation</strong>(<code>axisTo</code>): <code>void</code></p><p>Switch all contrast slices&#39; orientation</p><h4 id="parameters-59" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-59" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>axisTo</code></td><td style="text-align:left;"><code>&quot;z&quot;</code> | <code>&quot;y&quot;</code> | <code>&quot;x&quot;</code></td></tr></tbody></table><h4 id="returns-116" tabindex="-1">Returns <a class="header-anchor" href="#returns-116" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-148" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-148" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1157" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1157</a></p><hr><h3 id="setsyncslicenum" tabindex="-1">setSyncsliceNum <a class="header-anchor" href="#setsyncslicenum" aria-label="Permalink to &quot;setSyncsliceNum&quot;">​</a></h3><p>▸ <strong>setSyncsliceNum</strong>(): <code>void</code></p><p>Keep all contrast slice index to same. Synchronize the slice indexes of all the contrasts so that they are consistent with the main slice&#39;s index.</p><h4 id="returns-117" tabindex="-1">Returns <a class="header-anchor" href="#returns-117" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-13" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-13" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#setsyncslicenum">setSyncsliceNum</a></p><h4 id="defined-in-149" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-149" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1606" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1606</a></p><hr><h3 id="setwindowhigh" tabindex="-1">setWindowHigh <a class="header-anchor" href="#setwindowhigh" aria-label="Permalink to &quot;setWindowHigh&quot;">​</a></h3><p>▸ <strong>setWindowHigh</strong>(<code>value</code>): <code>void</code></p><p>Set window high (image contrast) value. Call finishWindowAdjustment() when the user finishes dragging.</p><h4 id="parameters-60" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-60" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>value</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-118" tabindex="-1">Returns <a class="header-anchor" href="#returns-118" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-150" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-150" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L362" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:362</a></p><hr><h3 id="setwindowlow" tabindex="-1">setWindowLow <a class="header-anchor" href="#setwindowlow" aria-label="Permalink to &quot;setWindowLow&quot;">​</a></h3><p>▸ <strong>setWindowLow</strong>(<code>value</code>): <code>void</code></p><p>Set window low (image center) value. Call finishWindowAdjustment() when the user finishes dragging.</p><h4 id="parameters-61" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-61" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>value</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="returns-119" tabindex="-1">Returns <a class="header-anchor" href="#returns-119" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-151" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-151" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L371" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:371</a></p><hr><h3 id="setupconfigs" tabindex="-1">setupConfigs <a class="header-anchor" href="#setupconfigs" aria-label="Permalink to &quot;setupConfigs&quot;">​</a></h3><p>▸ <code>Private</code> <strong>setupConfigs</strong>(): <code>void</code></p><h4 id="returns-120" tabindex="-1">Returns <a class="header-anchor" href="#returns-120" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-152" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-152" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1510" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1510</a></p><hr><h3 id="setupconrastevents" tabindex="-1">setupConrastEvents <a class="header-anchor" href="#setupconrastevents" aria-label="Permalink to &quot;setupConrastEvents&quot;">​</a></h3><p>▸ <strong>setupConrastEvents</strong>(<code>callback</code>): <code>void</code></p><p>****************************** Utils gui related functions (delegated to ContrastTool) **************************************</p><h4 id="parameters-62" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-62" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>callback</code></td><td style="text-align:left;">(<code>step</code>: <code>number</code>, <code>towards</code>: <code>&quot;horizental&quot;</code> | <code>&quot;vertical&quot;</code>) =&gt; <code>void</code></td></tr></tbody></table><h4 id="returns-121" tabindex="-1">Returns <a class="header-anchor" href="#returns-121" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-49" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-49" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#setupconrastevents">setupConrastEvents</a></p><h4 id="defined-in-153" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-153" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L1057" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:1057</a></p><hr><h3 id="setupgui" tabindex="-1">setupGUI <a class="header-anchor" href="#setupgui" aria-label="Permalink to &quot;setupGUI&quot;">​</a></h3><p>▸ <strong>setupGUI</strong>(<code>gui</code>): <code>void</code></p><p>Set up GUI for drawing panel</p><h4 id="parameters-63" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-63" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>gui</code></td><td style="text-align:left;"><code>GUI</code></td><td style="text-align:left;">GUI</td></tr></tbody></table><h4 id="returns-122" tabindex="-1">Returns <a class="header-anchor" href="#returns-122" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-154" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-154" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L136" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:136</a></p><hr><h3 id="switchallslicesarraydata" tabindex="-1">switchAllSlicesArrayData <a class="header-anchor" href="#switchallslicesarraydata" aria-label="Permalink to &quot;switchAllSlicesArrayData&quot;">​</a></h3><p>▸ <strong>switchAllSlicesArrayData</strong>(<code>allSlices</code>): <code>void</code></p><h4 id="parameters-64" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-64" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>allSlices</code></td><td style="text-align:left;"><code>nrrdSliceType</code>[]</td></tr></tbody></table><h4 id="returns-123" tabindex="-1">Returns <a class="header-anchor" href="#returns-123" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-155" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-155" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1497" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1497</a></p><hr><h3 id="syncbrushcolor" tabindex="-1">syncBrushColor <a class="header-anchor" href="#syncbrushcolor" aria-label="Permalink to &quot;syncBrushColor&quot;">​</a></h3><p>▸ <code>Private</code> <strong>syncBrushColor</strong>(): <code>void</code></p><p>Sync brush/fill color from the active layer&#39;s volume color map. Falls back to global CHANNEL_HEX_COLORS if volume not available.</p><h4 id="returns-124" tabindex="-1">Returns <a class="header-anchor" href="#returns-124" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-156" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-156" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L502" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:502</a></p><hr><h3 id="syncguiparametersettings" tabindex="-1">syncGuiParameterSettings <a class="header-anchor" href="#syncguiparametersettings" aria-label="Permalink to &quot;syncGuiParameterSettings&quot;">​</a></h3><p>▸ <code>Private</code> <strong>syncGuiParameterSettings</strong>(): <code>void</code></p><p>Sync guiParameterSettings with current volume metadata. Called internally when slices are loaded or switched.</p><h4 id="returns-125" tabindex="-1">Returns <a class="header-anchor" href="#returns-125" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-157" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-157" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L193" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:193</a></p><hr><h3 id="synclayerslicedata" tabindex="-1">syncLayerSliceData <a class="header-anchor" href="#synclayerslicedata" aria-label="Permalink to &quot;syncLayerSliceData&quot;">​</a></h3><p>▸ <strong>syncLayerSliceData</strong>(<code>index</code>, <code>layer</code>): <code>void</code></p><p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Store images (delegated to ImageStoreHelper)</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>*************************</p><h4 id="parameters-65" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-65" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>index</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>layer</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="returns-126" tabindex="-1">Returns <a class="header-anchor" href="#returns-126" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-50" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-50" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#synclayerslicedata">syncLayerSliceData</a></p><h4 id="defined-in-158" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-158" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L1051" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:1051</a></p><hr><h3 id="undo" tabindex="-1">undo <a class="header-anchor" href="#undo" aria-label="Permalink to &quot;undo&quot;">​</a></h3><p>▸ <strong>undo</strong>(): <code>void</code></p><p>Programmatically trigger an undo operation.</p><p>Equivalent to pressing Ctrl+Z. Reverts the most recent drawing stroke on the currently active layer and syncs the result to the backend via the <code>getMask</code> callback.</p><h4 id="returns-127" tabindex="-1">Returns <a class="header-anchor" href="#returns-127" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">undoBtn.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;click&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> nrrdTools.</span><span style="color:#B392F0;">undo</span><span style="color:#E1E4E8;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">undoBtn.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;click&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> nrrdTools.</span><span style="color:#6F42C1;">undo</span><span style="color:#24292E;">());</span></span></code></pre></div><h4 id="defined-in-159" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-159" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L751" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:751</a></p><hr><h3 id="undolastpainting" tabindex="-1">undoLastPainting <a class="header-anchor" href="#undolastpainting" aria-label="Permalink to &quot;undoLastPainting&quot;">​</a></h3><p>▸ <strong>undoLastPainting</strong>(): <code>void</code></p><p>Undo the last drawing operation on the active layer. Restores the MaskVolume slice to its pre-draw state, re-renders the canvas, and notifies the backend.</p><h4 id="returns-128" tabindex="-1">Returns <a class="header-anchor" href="#returns-128" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-51" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-51" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#undolastpainting">undoLastPainting</a></p><h4 id="defined-in-160" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-160" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L955" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:955</a></p><hr><h3 id="updatemaxindex" tabindex="-1">updateMaxIndex <a class="header-anchor" href="#updatemaxindex" aria-label="Permalink to &quot;updateMaxIndex&quot;">​</a></h3><p>▸ <code>Private</code> <strong>updateMaxIndex</strong>(): <code>void</code></p><h4 id="returns-129" tabindex="-1">Returns <a class="header-anchor" href="#returns-129" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-161" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-161" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1579" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1579</a></p><hr><h3 id="updatemousewheelevent" tabindex="-1">updateMouseWheelEvent <a class="header-anchor" href="#updatemousewheelevent" aria-label="Permalink to &quot;updateMouseWheelEvent&quot;">​</a></h3><p>▸ <strong>updateMouseWheelEvent</strong>(): <code>void</code></p><p>Update mouse wheel event.</p><h4 id="returns-130" tabindex="-1">Returns <a class="header-anchor" href="#returns-130" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="defined-in-162" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-162" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1985" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1985</a></p><hr><h3 id="updateoriginandchangedwh" tabindex="-1">updateOriginAndChangedWH <a class="header-anchor" href="#updateoriginandchangedwh" aria-label="Permalink to &quot;updateOriginAndChangedWH&quot;">​</a></h3><p>▸ <strong>updateOriginAndChangedWH</strong>(): <code>void</code></p><p>Update the original canvas size, allow set to threejs load one (pixel distance not the mm). Then update the changedWidth and changedHeight based on the sizeFactor.</p><h4 id="returns-131" tabindex="-1">Returns <a class="header-anchor" href="#returns-131" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="overrides-14" tabindex="-1">Overrides <a class="header-anchor" href="#overrides-14" aria-label="Permalink to &quot;Overrides&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#updateoriginandchangedwh">updateOriginAndChangedWH</a></p><h4 id="defined-in-163" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-163" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/NrrdTools.ts#L1589" target="_blank" rel="noreferrer">src/Utils/segmentation/NrrdTools.ts:1589</a></p><hr><h3 id="updateslicescontrast" tabindex="-1">updateSlicesContrast <a class="header-anchor" href="#updateslicescontrast" aria-label="Permalink to &quot;updateSlicesContrast&quot;">​</a></h3><p>▸ <strong>updateSlicesContrast</strong>(<code>value</code>, <code>flag</code>): <code>void</code></p><h4 id="parameters-66" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-66" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>value</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>flag</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="returns-132" tabindex="-1">Returns <a class="header-anchor" href="#returns-132" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><h4 id="inherited-from-52" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-52" aria-label="Permalink to &quot;Inherited from&quot;">​</a></h4><p><a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html">DrawToolCore</a>.<a href="./Utils_segmentation_DrawToolCore.DrawToolCore.html#updateslicescontrast">updateSlicesContrast</a></p><h4 id="defined-in-164" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-164" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/LinkunGao/copper3d_visualisation/blob/2abea68/src/Utils/segmentation/DrawToolCore.ts#L1069" target="_blank" rel="noreferrer">src/Utils/segmentation/DrawToolCore.ts:1069</a></p>`,1537),n=[s];function l(i,d,h,c,p,u){return a(),t("div",null,n)}const g=e(o,[["render",l]]);export{f as __pageData,g as default};
